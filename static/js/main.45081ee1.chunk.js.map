{"version":3,"sources":["Web3Manager.js","FirebaseManager.js","Box.js","ErrorMessage.js","images/ButtonLogin.png","Button.js","RealtimeDatabase.js","InputField.js","images/ButtonApprove.png","images/ButtonApproved.png","images/ButtonDeposit.png","images/ButtonWithdraw.png","UserProfile.js","images/walletButton.png","images/walletconnectButton.png","ConnectWallets.js","Login.js","App.js","reportWebVitals.js","index.js"],"names":["_selectedAccount","_provider","SingIn","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","email","password","Promise","resolve","reject","auth","getAuth","signInWithEmailAndPassword","then","userCredential","user","catch","error","code","errorMessage","message","Box","state","count","className","this","props","children","React","Component","ErrorMessage","show","msg","Button","onClick","handleClick","src","ButtonLogin","alt","readDatabase","path","db","getDatabase","starCountRef","ref","currentUser","uid","onValue","snapshot","data","val","e","writeDatabase","set","InputField","type","value","target","onChange","name","handleInput","placeholder","erc20Abi","gameAbi","gameContractAddress","connectWalletConnect","provider","WalletConnectProvider","rpc","infuraId","enable","web3Provider","providers","Web3Provider","console","log","accounts","connectMetamask","window","ethereum","request","method","ethers","err","on","approveCANDY","amountWei","utils","parseEther","signer","getSigner","tokenContract","Contract","estimateGas","approve","gas1","parseInt","mul","div","approveReq","wait","approveReceipt","localStorage","setItem","depositFund","amount","getItem","toString","gameContract","deposit","gas2","result","receipt","status","withdrawFund","parseFloat","Web3","toWei","wc","Wallet","today","Date","time","valueOf","dig","solidityKeccak256","signMessage","arrayify","signature","withdraw","ContractCallButtons","approved","handleApproveClick","ButtonApproved","ButtonApprove","handleDepositClick","ButtonDeposit","handleWithdrawClick","ButtonWithdraw","ProfileInputField","label","ProfileBox","UserProfile","isFieldsEmpty","done","amountValue","candy","inProgress","bind","setState","emailValue","passValue","prevState","r","finally","CircularProgress","style","position","left","top","WalletConnectButton","WalletImage","MetamaskButton","MetaImage","ConnectWallets","selectedAccount","undefined","wallet","handleMetamaskClick","handleWalletConnectClick","metamask","AppleLoginButton","handleAppleClick","handleFacebookClick","Login","isEmailValid","emailFieldLabel","passFieldLabel","emailField","pass","field","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","OAuthProvider","addScope","signInWithPopup","credential","credentialFromResult","signInWithCredential","_user","FacebookAuthProvider","App","useState","setCurrentUser","useEffect","onAuthStateChanged","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.45081ee1.chunk.js","sourcesContent":["import Web3 from 'web3';\nimport {ethers, Wallet, providers} from 'ethers';\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport {readDatabase, writeDatabase} from \"./RealtimeDatabase\";\nlet _selectedAccount;\n\nlet _provider;\n\nconst erc20Abi = [\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\"name\": \"_spender\", \"type\": \"address\"},\n            {\"name\": \"_value\", \"type\": \"uint256\"}\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [\n            {\"name\": \"\", \"type\": \"bool\"}\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [\n            {\"name\": \"_owner\", \"type\": \"address\"},\n            {\"name\": \"_spender\", \"type\": \"address\"}\n        ],\n        \"name\": \"allowance\",\n        \"outputs\": [\n            {\"name\": \"\", \"type\": \"uint256\"}\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n];\n\nconst gameAbi = [\n    {\n        \"inputs\": [\n            {\"internalType\": \"uint256\", \"name\": \"amount_\", \"type\": \"uint256\"}\n        ],\n        \"name\": \"deposit\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\"internalType\": \"uint256\", \"name\": \"amount\", \"type\": \"uint256\"},\n            {\"internalType\": \"uint256\", \"name\": \"time\", \"type\": \"uint256\"},\n            {\"internalType\": \"bytes\", \"name\": \"sign\", \"type\": \"bytes\"}\n        ],\n        \"name\": \"withdraw\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\"stateMutability\": \"payable\", \"type\": \"receive\"},\n    {\n        \"inputs\": [],\n        \"name\": \"depositFee\",\n        \"outputs\": [\n            {\"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\"}\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    }\n];\n\n\nconst tokenContractAddress = '0x06C04B0AD236e7Ca3B3189b1d049FE80109C7977';\nconst gameContractAddress = '0x61dd8354917c92f986BA81f2222Ac033A4Bb1521';\n\nexport const connectWalletConnect = async () => {\n    return new Promise(async (resolve, reject) => {\n        try{\n            /*const options = new WalletConnectProvider({\n                rpc: {\n                    25: 'https://matic-mainnet.chainstacklabs.com',\n                },\n                infuraId: '9aa3d95b3bc440fa88ea12eaa4456161',\n            });\n\n            const providerOptions = {\n                walletconnect: {\n                    package: WalletConnectProvider, // required\n                    options: options,\n                },\n            };\n            const web3Modal = new Web3Modal({\n                network: 'mainnet',\n                cacheProvider: true,\n                providerOptions,\n            });\n\n            const provider = await web3Modal.connect();\n            _selectedAccount = provider.accounts[0];\n            provider.\n            _provider = provider;\n            resolve(provider);*/\n            const provider = new WalletConnectProvider({\n                rpc: {\n                    25: 'https://matic-mainnet.chainstacklabs.com',\n                },\n                infuraId: \"9aa3d95b3bc440fa88ea12eaa4456161\",\n            });\n\n//  Enable session (triggers QR Code modal)\n            await provider.enable();\n\n            const web3Provider = new providers.Web3Provider(provider);\n\n            console.log(web3Provider.provider.accounts[0]);\n            _provider = web3Provider;\n            _selectedAccount = web3Provider.provider.accounts[0];\n            console.log('account : ' + _selectedAccount)\n            resolve(_provider);\n\n        } catch (e) {\n            reject(e.message);\n        }\n    });\n}\nexport const connectMetamask = async () => {\n\n    return new Promise((resolve, reject) => {\n        let provider = window.ethereum;\n\n        if (typeof provider !== 'undefined') {\n            provider\n                .request({method: 'eth_requestAccounts'})\n                .then((accounts) => {\n                    _selectedAccount = accounts[0];\n                    console.log(`Selected account is ${_selectedAccount}`);\n                    const {ethereum} = window;\n                    _provider = new ethers.providers.Web3Provider(ethereum);\n                    resolve(_selectedAccount)\n                })\n                .catch((err) => {\n                    console.log('Error : ' + err);\n                    reject(err);\n                });\n\n            window.ethereum.on('accountsChanged', function (accounts) {\n                _selectedAccount = accounts[0];\n                console.log(`Selected account changed to ${_selectedAccount}`);\n            });\n\n\n            window.ethereum.on('message', function (type, data) {\n                console.log('On message event type : ' + type);\n                console.log('On message event data : ' + data);\n            });\n        } else {\n            reject(\"Browser doesn't compatible\")\n        }\n    })\n\n}\n\nexport const approveCANDY = async () => {\n    return new Promise(async (resolve, reject) => {\n        try {\n            let amountWei = ethers.utils.parseEther('1000000000000000');\n            const signer = _provider.getSigner();\n            const tokenContract = new ethers.Contract(tokenContractAddress, erc20Abi, signer);\n\n            let gas1 = await tokenContract.estimateGas.approve(gameContractAddress,amountWei);\n            console.log(gas1);\n\n            let approveReq = await tokenContract.approve(gameContractAddress, amountWei, {'gasLimit': parseInt(gas1.mul(13).div(10))});\n            console.log(approveReq);\n            let approveReceipt = await approveReq.wait();\n            localStorage.setItem('CANDY_APPROVED', 'Yes');\n            resolve(approveReceipt);\n        } catch (e) {\n            console.log(e);\n            reject(e.message);\n        }\n    });\n}\n\nexport const depositFund = async (amount) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n            const {ethereum} = window;\n\n            if (ethereum) {\n                //const provider = new ethers.providers.Web3Provider(ethereum);\n// const tokenContract = new ethers.Contract(tokenContractAddress, erc20Abi, signer);\n                /*let gas1 = await tokenContract.estimateGas.approve(accounts[0],amountWei);\n                console.log(gas1);\n\n                let approveReq = await tokenContract.approve(accounts[0], amountWei, {'gasLimit': parseInt(gas1.mul(13).div(10))});\n                console.log(approveReq);\n                let approveReceipt = await approveReq.wait();\n\n                console.log(approveReceipt);\n                console.log(approveReceipt.status);*/\n\n/*                let d = await tokenContract.allowance(accounts[0],gameContractAddress);\n\n                console.log(d);*/\n\n                let approved = localStorage.getItem(\"CANDY_APPROVED\");\n\n                if(approved == 'Yes'){\n                    if(amount.toString() == ''){\n                        reject('Please enter a valid amount');\n                    }\n                    let amountWei = ethers.utils.parseEther(amount);\n                    console.log('amountWei : ' + amountWei);\n                    const accounts = await ethereum.request({method: 'eth_requestAccounts'});\n                    console.log('accounts : ' + accounts);\n\n\n                    console.log(_provider);\n                    const signer = _provider.getSigner();\n\n                    const gameContract = new ethers.Contract(gameContractAddress, gameAbi, signer);\n                    let gas2 = await gameContract.estimateGas.deposit(amountWei);\n                    console.log(gas2);\n                    console.log(gameContract)\n                    let result = await gameContract.deposit(amountWei, {'gasLimit': gas2.mul(13).div(10)});\n                    console.log('result ' + result);\n                    let receipt = await result.wait();\n                    console.log('receipt ' + receipt);\n                    if(receipt.status == 1){\n                        let data = await readDatabase('items/token');\n                        await writeDatabase('items/token', data + amount);\n                        resolve(receipt);\n                    } else {\n                        reject(\"Approval failed\");\n                    }\n                } else{\n                    reject(\"You haven't approved CANDY\");\n                }\n\n\n\n            } else {\n                console.log(\"Ethereum object does not exist\");\n                reject(\"Ethereum object does not exist\");\n            }\n        } catch (e) {\n            console.log(e);\n            reject(e.message);\n        }\n    })\n\n}\n\nexport const withdrawFund = async (amount) => {\n    return new Promise(async (resolve, reject) => {\n\n        readDatabase('items/token').then(async(data) =>  {\n            if(data >= parseFloat(amount))\n            {\n                try {\n                    const {ethereum} = window;\n\n                    if (ethereum) {\n                        if(amount.toString() == ''){\n                            reject('Please enter a valid amount');\n                        }\n                        let amountWei = Web3.utils.toWei(amount);\n                        const accounts = await ethereum.request({method: 'eth_requestAccounts'});\n                        console.log('accounts : ' + accounts);\n\n                        let wc = new ethers.Wallet('2e44e14c394a5868fb8902462cfdd0b755ba11118fb15ab6de9f70e8f7174e73');\n\n                        var today = new Date();\n                        let time = today.valueOf();\n\n                        let dig = ethers.utils.solidityKeccak256(['address', 'uint256', 'uint256'],\n                            [accounts[0], time, amountWei]);\n                        let signature = await wc.signMessage(ethers.utils.arrayify(dig));\n\n                        //const provider = new ethers.providers.Web3Provider(ethereum);\n                        const signer = _provider.getSigner();\n\n                        const gameContract = new ethers.Contract(gameContractAddress, gameAbi, signer);\n                        console.log(gameContract)\n                        let result = await gameContract.withdraw(amountWei, time, signature, {'gasLimit': 1000000});\n                        console.log('result ' + result);\n                        let receipt = await result.wait();\n                        console.log('receipt ' + receipt);\n                        await writeDatabase('items/token', data - amount);\n                        resolve(receipt);\n\n                    } else {\n                        console.log(\"Ethereum object does not exist\");\n                        reject(\"Ethereum object does not exist\");\n                    }\n                } catch (e) {\n                    console.log(e);\n                    reject(e.message);\n                }\n            } else {\n                reject('Insufficient CANDY');\n            }\n        }).catch(e => {\n            reject(e.message);\n            console.log(e.message);\n        })\n\n    })\n\n}","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAS0-JhXA93OUDYl_2a01nF66FrUVXvAeI\",\n    authDomain: \"candycity-e0437.firebaseapp.com\",\n    databaseURL: \"https://candycity-e0437-default-rtdb.firebaseio.com\",\n    projectId: \"candycity-e0437\",\n    storageBucket: \"candycity-e0437.appspot.com\",\n    messagingSenderId: \"231170619176\",\n    appId: \"1:231170619176:web:a5a693a07f857661bec21d\",\n    measurementId: \"G-5QDL2V3CN2\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n\nexport const SingIn = async (email, password)  =>{\n   return new Promise((resolve, reject) => {\n       const auth = getAuth();\n       signInWithEmailAndPassword(auth, email, password)\n           .then((userCredential) => {\n               // Signed in\n               const user = userCredential.user;\n               resolve(user);\n               // ...\n           })\n           .catch((error) => {\n               const errorCode = error.code;\n               const errorMessage = error.message;\n               reject(errorMessage);\n           });\n   })\n}\n\n","import React from \"react\";\n\nexport default class Box extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0\n        };\n    }\n\n    render() {\n        return <div className=\"box\">{this.props.children}</div>;\n    }\n}","import React from \"react\";\n\nexport default class ErrorMessage extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 11\n        };\n    }\n\n    render() {\n        return (\n            <div className={this.props.show ? \"errorMsg\" : \"hideErrorMsg\"}>\n                <h3>{this.props.msg}</h3>\n            </div>\n        );\n    }\n}","export default __webpack_public_path__ + \"static/media/ButtonLogin.ab594d68.png\";","import React from \"react\";\nimport ButtonLogin from \"./images/ButtonLogin.png\"\n\nexport default class Button extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0\n        };\n    }\n\n    render() {\n        return (\n            /*<div onClick={this.props.handleClick} className=\"btn\">\n                <p>Log In</p>\n            </div>*/\n\n            <div onClick={this.props.handleClick} className=\"btn2\"><img src={ButtonLogin} alt=\"myimage\" className=\"loginImageBtn\"></img></div>\n        );\n    }\n}","import { getDatabase, ref, onValue, set} from \"firebase/database\";\nimport {getAuth} from \"firebase/auth\";\n\nexport const readDatabase = async (path) =>{\n    return new Promise((resolve, reject)=>{\n        try{\n            const db = getDatabase();\n            const starCountRef = ref(db, 'users/' + getAuth().currentUser.uid + '/' + path);\n            onValue(starCountRef, (snapshot) => {\n                const data = snapshot.val();\n                resolve(data);\n            });\n        } catch (e){\n            reject(e);\n        }\n    })\n\n}\n\nexport const writeDatabase = async (path, data) =>{\n    return new Promise((resolve, reject)=>{\n        try{\n            const db = getDatabase();\n            set(ref(db, 'users/' + getAuth().currentUser.uid + '/' + path), data);\n            resolve();\n        } catch (e){\n            reject(e);\n        }\n    })\n\n}","import React from \"react\";\n\nexport default class InputField extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            type: \"text\"\n        };\n    }\n\n    handleInput(e) {\n        const value = e.target.value;\n        this.props.onChange(this.props.name, value);\n    }\n\n    render() {\n        return (\n            <div>\n                {/*<h3 >{this.props.label}</h3>*/}\n                <input\n                    type={this.props.type ? this.props.type : this.state.type}\n                    name={this.props.name}\n                    onChange={e => this.handleInput(e)}\n                    value={this.props.value}\n                    className=\"input\"\n                    placeholder={this.props.name == 'email' ? 'Email' : 'Password'}\n                />\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/ButtonApprove.1cbb804e.png\";","export default __webpack_public_path__ + \"static/media/ButtonApproved.8dce9e30.png\";","export default __webpack_public_path__ + \"static/media/ButtonDeposit.084bf5e1.png\";","export default __webpack_public_path__ + \"static/media/ButtonWithdraw.7f65251e.png\";","import React from \"react\";\nimport {SingIn} from \"./FirebaseManager\";\nimport {getAuth} from \"firebase/auth\";\nimport {getDatabase} from \"firebase/database\";\nimport {readDatabase} from \"./RealtimeDatabase\";\nimport InputField from \"./InputField\";\nimport {GrApple, GrFacebook} from \"react-icons/gr\";\nimport {approveCANDY, depositFund, withdrawFund} from \"./Web3Manager\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport {CircularProgress} from \"@mui/material\";\nimport ButtonApprove from \"./images/ButtonApprove.png\";\nimport ButtonApproved from \"./images/ButtonApproved.png\";\nimport ButtonDeposit from \"./images/ButtonDeposit.png\";\nimport ButtonWithdraw from \"./images/ButtonWithdraw.png\";\n\nclass ContractCallButtons extends React.Component {\n    render() {\n        let approved = localStorage.getItem('CANDY_APPROVED');\n        return (\n            <div className='otherLoginButtons'>\n                <table>\n                    <tr>\n                    <td>\n                            <div onClick={this.props.handleApproveClick} className=\"btn2\"><img src={approved ? ButtonApproved: ButtonApprove} alt=\"blueBtn\" className=\"userProImageBtn\"></img></div>\n                        </td>\n                        <td>\n                            <div onClick={this.props.handleDepositClick} className=\"btn2\"><img src={ButtonDeposit} alt=\"blueBtn\" className=\"userProImageBtn\"></img></div>\n                            {/* <div onClick={this.props.handleDepositClick} className=\"btnDepositAndWithdraw\">\n                                <p>Deposit</p>\n                            </div> */}\n                        </td>\n                        <td>\n                        <div onClick={this.props.handleWithdrawClick} className=\"btn2\"><img src={ButtonWithdraw} alt=\"greenBtn\" className=\"userProImageBtn\"></img></div>\n                            {/* <div onClick={this.props.handleWithdrawClick} className=\"btnDepositAndWithdraw\">\n                                <p>Withdraw</p>\n                            </div> */}\n                        </td>\n\n                    </tr>\n                </table>\n            </div>\n\n\n        );\n    }\n}\n\nclass ProfileInputField extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            type: \"text\"\n        };\n    }\n\n    handleInput(e) {\n        //const value = e.target.value.replace(/\\D/, '');\n\n        this.props.onChange(e.target.value);\n    }\n\n    render() {\n        return (\n            <div>\n                <label className='inputFieldLabel'>{this.props.label}</label>\n                <input\n                    type={this.props.type ? this.props.type : this.state.type}\n                    name={this.props.name}\n                    onChange={e => this.handleInput(e)}\n                    value={this.props.value}\n                    className=\"input\"\n                />\n            </div>\n        );\n    }\n}\n\nclass ProfileBox extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0\n        };\n    }\n\n    render() {\n        return <div className=\"profileBox\">{this.props.children}</div>;\n    }\n}\n\nexport default class UserProfile extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            isFieldsEmpty: true,\n            error: {\n                amount: false,\n                message: \"\",\n                done: false\n            },\n            amountValue: \"\",\n            user: getAuth().currentUser,\n            candy: 0,\n            inProgress: false,\n        };\n        this.handleInput = this.handleInput.bind(this);\n        this.handleDepositClick = this.handleDepositClick.bind(this);\n        this.handleWithdrawClick = this.handleWithdrawClick.bind(this);\n        this.handleApproveClick = this.handleApproveClick.bind(this);\n        readDatabase('items/token').then(data => {\n            this.setState({\n                candy: data\n            })\n        }).catch(err => {\n            console.log(err.message);\n        })\n    }\n\n    handleInput(value) {\n        console.log(value);\n        this.setState(\n            {\n                amountValue: value\n            }\n        );\n    }\n\n    isFieldsEmpty() {\n        if (!this.state.emailValue || !this.state.passValue) {\n            /*this.setState({\n              formHasError: true,\n              errorMsg: 'Please fill all details'\n            });*/\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: this.state.amountValue === \"\",\n                    message: \"Please enter a valid amount\"\n                }\n            }));\n            return true;\n        } else {\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: false\n                }\n            }));\n            return false;\n        }\n    }\n\n    handleDepositClick() {\n        this.setState(prevState => ({\n            error: {\n                ...prevState.error,\n                amount: false,\n                message: \"\",\n                done:false\n            },\n            inProgress: true\n        }));\n        console.log('deposit starting...');\n        depositFund(this.state.amountValue).then(r => {\n            console.log(r);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: false,\n                    message: \"CANDY withdrawn successfully!\",\n                    done:true\n                }\n            }));\n        }).catch(e=>{\n            console.log(e);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: true,\n                    message: e\n                }\n            }));\n        }).finally(()=>{\n            this.setState({\n\n                inProgress: false\n            });\n        });\n    }\n\n    handleApproveClick(){\n        this.setState(prevState => ({\n            error: {\n                ...prevState.error,\n                amount: false,\n                message: \"\",\n                done:false\n            },\n            inProgress: true\n        }));\n        console.log('withdraw starting...');\n        approveCANDY().then(r => {\n            console.log(r);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: false,\n                    message: \"CANDY approved\",\n                    done:true\n                }\n            }));\n        }).catch(e=>{\n            console.log(e);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: true,\n                    message: e\n                }\n            }));\n        }).finally(()=>{\n            this.setState({\n\n                inProgress: false\n            });\n        });\n    }\n\n    handleWithdrawClick() {\n        this.setState(prevState => ({\n            error: {\n                ...prevState.error,\n                amount: false,\n                message: \"CANDY withdrawn successfully!\",\n                done:true\n            },\n            inProgress: true\n        }));\n        console.log('withdraw starting...');\n        withdrawFund(this.state.amountValue).then(r => {\n            console.log(r);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: false,\n                    message: \"\",\n                    done:true\n                }\n            }));\n        }).catch(e=>{\n            console.log(e);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    amount: true,\n                    message: e\n                }\n            }));\n        }).finally(()=>{\n            this.setState({\n\n                inProgress: false\n            });\n        });\n    }\n\n    render() {\n        const {user, inProgress} = this.state;\n        return (\n            <div className=\"loginContainer\">\n\n                <ProfileBox>\n                    {inProgress && <CircularProgress style={{ position: 'absolute' , left: '50%', top: '50%'}}/>}\n                    <ErrorMessage\n                        msg={this.state.error.message}\n                        show={this.state.error.amount}\n                        done={this.state.error.done}\n                    />\n                    <h4 className='loginOptionText2'>Candy City User ID : {this.state.user.uid}</h4>\n                    <h4 className='loginOptionText2'>You have : {this.state.candy} CANDY in your profile</h4>\n                    <br/>\n                    <ProfileInputField\n                        onChange={this.handleInput}\n                        label='Enter amount to deposit or withdraw'\n                        name='amount'\n                        value={this.state.amountValue}\n                    />\n                    <ContractCallButtons handleDepositClick={this.handleDepositClick}\n                                         handleWithdrawClick={this.handleWithdrawClick}\n                                         handleApproveClick={this.handleApproveClick}/>\n                </ProfileBox>\n            </div>\n        );\n    }\n}","export default __webpack_public_path__ + \"static/media/walletButton.50d81015.png\";","export default __webpack_public_path__ + \"static/media/walletconnectButton.c3891cf7.png\";","import React from 'react';\n\nimport Box from \"./Box\";\nimport UserProfile from \"./UserProfile\";\nimport {connectMetamask, connectWalletConnect} from \"./Web3Manager\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport MetaImage from \"./images/walletButton.png\";\nimport WalletImage from \"./images/walletconnectButton.png\";\n\nclass WalletConnectBox extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0\n        };\n    }\n\n    render() {\n        return <div className=\"walletConnectBox\">{this.props.children}</div>;\n    }\n}\n\nclass WalletConnectButton extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0\n        };\n    }\n\n    render() {\n        return (\n            <div onClick={this.props.handleClick} className=\"btn2\"><img src={WalletImage} alt=\"myimage1\" className=\"loginImageBtn\"></img></div>\n            // <div onClick={this.props.handleClick} className=\"btnMetamaskConnect\">\n            //     <p className='walletName'><img className='metamaskIcon' src={walletConnectLogo}/>&nbsp;&nbsp;&nbsp;WalletConnect</p>\n            // </div>\n        );\n    }\n}\n\nclass MetamaskButton extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0\n        };\n    }\n\n    render() {\n        return (\n        <div onClick={this.props.handleClick} className=\"btn2\"><img src={MetaImage} alt=\"myimage2\" className=\"loginImageBtn\"></img></div>\n            // <div onClick={this.props.handleClick} className=\"btnMetamaskConnect\">\n            //     <p className='walletName'><img className='metamaskIcon' src={metamaskLogo}/>&nbsp;&nbsp;&nbsp;Metamask</p>\n            // </div>\n        );\n    }\n}\n\nexport default class ConnectWallets extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            selectedAccount: undefined,\n            error: {\n                wallet: false,\n                message: \"\"\n            },\n        };\n        this.handleMetamaskClick = this.handleMetamaskClick.bind(this);\n        this.handleWalletConnectClick = this.handleWalletConnectClick.bind(this);\n    }\n\n    handleWalletConnectClick() {\n        this.setState(prevState => ({\n            error: {\n                ...prevState.error,\n                wallet: false,\n            }\n        }));\n        connectWalletConnect().then(r => {\n            console.log(r);\n            this.setState(prevState => ({\n                selectedAccount: r,\n                error: {\n                    ...prevState.error,\n                    wallet: false,\n                },\n            }));\n        }).catch(e => {\n            console.log('Error 2 : ' + e);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    wallet: true,\n                    message: e.message\n                }\n            }));\n        });\n    }\n\n    handleMetamaskClick() {\n        this.setState(prevState => ({\n            error: {\n                ...prevState.error,\n                wallet: false,\n            }\n        }));\n        connectMetamask().then(r => {\n            this.setState(prevState => ({\n                selectedAccount: r,\n                error: {\n                    ...prevState.error,\n                    wallet: false,\n                },\n            }));\n        }).catch(e => {\n            console.log('Error 2 : ' + e);\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    metamask: true,\n                    wallet: e.message\n                }\n            }));\n        });\n    }\n\n    render() {\n        if(this.state.selectedAccount){\n            return (\n               <UserProfile/>\n            );\n        } else {\n        return (\n            <div className=\"loginContainer\">\n                <Box>\n                    <ErrorMessage\n                    msg={this.state.error.message}\n                    show={this.state.error.wallet}/>\n\n                    <label className='loginOptionText1'>Connect to your wallet</label>\n                    <MetamaskButton  handleClick={this.handleMetamaskClick}/>\n                    <WalletConnectButton handleClick={this.handleWalletConnectClick}/>    \n                </Box>\n            </div>\n        );\n        }\n    }\n}","import React from 'react';\nimport {GrApple} from \"react-icons/gr\";\nimport {GrFacebook} from \"react-icons/gr\";\nimport {SingIn} from \"./FirebaseManager\";\nimport Box from \"./Box\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport Button from \"./Button\";\nimport {FacebookAuthProvider, getAuth, OAuthProvider, signInWithPopup} from \"firebase/auth\";\nimport ConnectWallets from \"./ConnectWallets\";\nimport {signInWithCredential} from \"@firebase/auth\";\nimport InputField from \"./InputField\";\n\n\n\n\nclass AppleLoginButton extends React.Component {\n    render() {\n        return (\n            <div className='otherLoginButtons'>\n                <table>\n                    <tr>\n                        <td>\n                            <div onClick={this.props.handleAppleClick} className=\"btnAppleLogin\">\n                                <GrApple/>\n                            </div>\n                        </td>\n                        <td>\n                            <div onClick={this.props.handleFacebookClick} className=\"btnFacebookLogin\">\n                                <GrFacebook/>\n                            </div>\n                        </td>\n\n                    </tr>\n                </table>\n            </div>\n\n\n        );\n    }\n}\n\n\nexport default class Login extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            isFieldsEmpty: true,\n            isEmailValid: false,\n            emailFieldLabel: \"email\",\n            passFieldLabel: \"password\",\n            user:undefined,\n            error: {\n                email: false,\n                emailField: false,\n                pass: false,\n                message: \"\"\n            },\n            emailValue: \"\",\n            passValue: \"\"\n        };\n        this.handleInput = this.handleInput.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleAppleClick = this.handleAppleClick.bind(this);\n        this.handleFacebookClick = this.handleFacebookClick.bind(this);\n    }\n\n\n    handleInput(field, value) {\n        switch (field) {\n            case \"email\":\n                console.log(field);\n                this.setState(\n                    {\n                        emailValue: value\n                    },\n                    () => this.isEmailValid()\n                );\n                break;\n            case \"password\":\n                console.log(field);\n                this.setState(\n                    {\n                        passValue: value\n                    },\n                    () => this.isFieldsEmpty()\n                );\n                break;\n            default:\n                break;\n        }\n    }\n\n    isEmailValid() {\n        if (this.state.emailValue) {\n            console.log(this.state.emailValue);\n            let email = this.state.emailValue;\n            let lastAtPos = email.lastIndexOf(\"@\");\n            let lastDotPos = email.lastIndexOf(\".\");\n\n            if (\n                lastAtPos < lastDotPos &&\n                lastAtPos > 0 &&\n                email.indexOf(\"@@\") == -1 &&\n                lastDotPos > 2 &&\n                email.length - lastDotPos > 2\n            ) {\n                console.log(\"here\");\n                this.setState(prevState => ({\n                    error: {\n                        ...prevState.error,\n                        email: false\n                    }\n                }));\n            } else {\n                console.log(\"ohoh\");\n                this.setState(prevState => ({\n                    error: {\n                        ...prevState.error,\n                        email: true,\n                        message: \"Invalid Email Format\"\n                    }\n                }));\n                /*this.setState({\n                  formHasError: true,\n                  errorMsg: 'Invalid Email Format'\n                });*/\n            }\n        } else {\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    email: false\n                }\n            }));\n        }\n    }\n\n    isFieldsEmpty() {\n        if (!this.state.emailValue || !this.state.passValue) {\n            /*this.setState({\n              formHasError: true,\n              errorMsg: 'Please fill all details'\n            });*/\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    pass: this.state.passValue === \"\",\n                    email: this.state.emailValue === \"\",\n                    message: \"Please fill all details\"\n                }\n            }));\n            return true;\n        } else {\n            this.setState(prevState => ({\n                error: {\n                    ...prevState.error,\n                    pass: false\n                }\n            }));\n            return false;\n        }\n    }\n\n    handleAppleClick() {\n        const provider = new OAuthProvider('apple.com')\n        provider.addScope('email');\n        provider.addScope('name');\n\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n            .then((result) => {\n                // The signed-in user info.\n                const user = result.user;\n\n                // Apple credential\n                const credential = OAuthProvider.credentialFromResult(result);\n\n                signInWithCredential(auth, credential)\n                    .then((userCredential) => {\n                        // Signed in\n                        const _user = userCredential.user;\n                        console.log(_user.uid);\n                        this.setState(prevState => ({\n                            user: _user\n                        }));\n                        // ...\n                    })\n                    .catch((error) => {\n                        const errorCode = error.code;\n                        const errorMessage = error.message;\n                        // ...\n                    });\n                // ...\n            })\n            .catch((error) => {\n                // Handle Errors here.\n                const errorCode = error.code;\n                const errorMessage = error.message;\n                this.setState(prevState => ({\n                    error: {\n                        ...prevState.error,\n                        email: true,\n                        pass: true,\n                        message: errorMessage\n                    }\n                }));\n\n                // ...\n            });\n    }\n\n    handleFacebookClick() {\n        console.log('facebook login ....')\n        const provider = new FacebookAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n            .then((result) => {\n                // The signed-in user info.\n                const user = result.user;\n\n                // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n                const credential = FacebookAuthProvider.credentialFromResult(result);\n\n                signInWithCredential(auth, credential)\n                    .then((userCredential) => {\n                        // Signed in\n                        const _user = userCredential.user;\n                        console.log(_user.uid);\n                        this.setState(prevState => ({\n                            user: _user\n                        }));\n                        // ...\n                    })\n                    .catch((error) => {\n                        const errorCode = error.code;\n                        const errorMessage = error.message;\n                        // ...\n                    });\n                // ...\n            })\n            .catch((error) => {\n                // Handle Errors here.\n                const errorCode = error.code;\n                const errorMessage = error.message;\n                // The email of the user's account used.\n                this.setState(prevState => ({\n                    error: {\n                        ...prevState.error,\n                        email: true,\n                        pass: true,\n                        message: errorMessage\n                    }\n                }));\n\n                // ...\n            });\n    }\n\n    handleClick() {\n        console.log(\"Any email error(s): \", this.state.error.email);\n        console.log(\"Any pass error(s): \", this.state.error.pass);\n        if (\n            !this.isFieldsEmpty() &&\n            !this.state.error.email &&\n            !this.state.error.pass\n        ) {\n            SingIn(this.state.emailValue, this.state.passValue).then((_user) => {\n                console.log(_user.uid);\n                this.setState(prevState => ({\n                    user: _user\n                }));\n            }).catch(msg => {\n                this.setState(prevState => ({\n                    error: {\n                        ...prevState.error,\n                        email: true,\n                        pass: true,\n                        message: msg\n                    }\n                }));\n            });\n        }\n    }\n\n    render() {\n        const user = getAuth().currentUser;\n        console.log('user : ' + this.state.user);\n        console.log('user : ' + user);\n        if(user != null){\n            return (\n                <ConnectWallets/>\n            );\n        } else {\n            return (\n                <div className=\"loginContainer\">\n                    <Box>\n                        <ErrorMessage\n                            msg={this.state.error.message}\n                            show={this.state.error.email || this.state.error.pass}\n                        />\n                        <label className='loginOptionText1'>Hello Again!</label>\n                        <label className='loginOptionText2'>Welcome back, you've been missed!</label>\n                        <InputField \n                            onChange={this.handleInput}\n                            label={this.state.emailFieldLabel}\n                            name={this.state.emailFieldLabel}\n                            value={this.state.emailValue}\n                        />\n                        <InputField \n                            onChange={this.handleInput}\n                            label={this.state.passFieldLabel}\n                            name={this.state.passFieldLabel}\n                            value={this.state.passValue}\n                            type={this.state.passFieldLabel}\n                        />\n\n                        <Button handleClick={this.handleClick}/>\n                        <label className='loginOptionText3'>Or Continue\n                            with</label>\n\n                        <AppleLoginButton handleAppleClick={this.handleAppleClick} handleFacebookClick={this.handleFacebookClick}/>\n                    </Box>\n                </div>\n            );\n        }\n\n    }\n}","import './App.css';\nimport Login from \"./Login\";\nimport {BrowserRouter as Router, Route, Routes, useNavigate} from 'react-router-dom'\nimport ConnectWallets from \"./ConnectWallets\";\nimport {getAuth, onAuthStateChanged} from \"firebase/auth\";\nimport {useEffect, useState} from \"react\";\n\nfunction App() {\n    const [currentUser, setCurrentUser] = useState(null)\n    useEffect(() => {\n        onAuthStateChanged(getAuth(), (user) => {\n            setCurrentUser(user)\n        })\n    }, [])\n  return (\n      <Router>\n      <div className=\"App\">\n          <>\n              <Routes>\n                  <Route path='/' element={<Login />} />\n                  <Route path='/ConnectWallets' element={<ConnectWallets />} />\n              </Routes>\n          </>\n      </div>\n      </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}