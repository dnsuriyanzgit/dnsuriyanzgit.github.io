(this.webpackJsonpcandy_city=this.webpackJsonpcandy_city||[]).push([[0],{301:function(e,t,n){},302:function(e,t,n){},304:function(e,t){},345:function(e,t){},347:function(e,t){},371:function(e,t){},373:function(e,t){},385:function(e,t){},386:function(e,t){},407:function(e,t){},410:function(e,t){},420:function(e,t){},422:function(e,t){},503:function(e,t){},509:function(e,t){},522:function(e,t){},530:function(e,t,n){"use strict";n.r(t);var a,r,s=n(9),c=n.n(s),o=n(268),i=n.n(o),l=(n(301),n(19)),u=(n(302),n(18)),b=n(14),p=n(2),h=n(3),d=n(10),j=n(11),m=n(117),O=n(0),f=n(5),v=n(271),g=n(38),k=(Object(v.a)({apiKey:"AIzaSyAS0-JhXA93OUDYl_2a01nF66FrUVXvAeI",authDomain:"candycity-e0437.firebaseapp.com",databaseURL:"https://candycity-e0437-default-rtdb.firebaseio.com",projectId:"candycity-e0437",storageBucket:"candycity-e0437.appspot.com",messagingSenderId:"231170619176",appId:"1:231170619176:web:a5a693a07f857661bec21d",measurementId:"G-5QDL2V3CN2"}),function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r=Object(g.c)();Object(g.e)(r,t,n).then((function(t){var n=t.user;e(n)})).catch((function(e){e.code;var t=e.message;a(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=n(12),x=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"box",children:this.props.children})}}]),n}(c.a.Component),w=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={count:11},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:this.props.show?"errorMsg":"hideErrorMsg",children:Object(y.jsx)("h3",{children:this.props.msg})})}}]),n}(c.a.Component),C=n.p+"static/media/ButtonLogin.ab594d68.png",S=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(y.jsx)("img",{src:C,alt:"myimage",className:"loginImageBtn"})})}}]),n}(c.a.Component),A=n(79),N=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var a=Object(A.a)(),r=Object(A.c)(a,"users/"+Object(g.c)().currentUser.uid+"/"+t);Object(A.b)(r,(function(t){var n=t.val(),a=0;a=null==n||"null"==n?0:parseFloat(n),e(a)}))}catch(s){n(s)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){try{var r=Object(A.a)();Object(A.d)(Object(A.c)(r,"users/"+Object(g.c)().currentUser.uid+"/"+t),n),e()}catch(s){a(s)}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={type:"text"},e}return Object(h.a)(n,[{key:"handleInput",value:function(e){var t=e.target.value;this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:this.props.type?this.props.type:this.state.type,name:this.props.name,onChange:function(t){return e.handleInput(t)},value:this.props.value,className:"input",placeholder:"email"==this.props.name?"Email":"Password"})})}}]),n}(c.a.Component),P=n(273),V=n.n(P),E=n(77),B=n(71),D=n(288),L=[{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],W=[{inputs:[{internalType:"uint256",name:"amount_",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"bytes",name:"sign",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[],name:"depositFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],M="0x61dd8354917c92f986BA81f2222Ac033A4Bb1521",Y=function(){var e=Object(f.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){var s,c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=new D.a({rpc:{25:"https://matic-mainnet.chainstacklabs.com"},infuraId:"9aa3d95b3bc440fa88ea12eaa4456161"}),e.next=4,s.enable();case 4:c=new E.providers.Web3Provider(s),console.log(c.provider.accounts[0]),r=c,a=c.provider.accounts[0],console.log("account : "+a),t(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=window.ethereum;"undefined"!==typeof n?(n.request({method:"eth_requestAccounts"}).then((function(t){a=t[0],console.log("Selected account is ".concat(a));var n=window.ethereum;r=new B.a.providers.Web3Provider(n),e(a)})).catch((function(e){console.log("Error : "+e),t(e)})),window.ethereum.on("accountsChanged",(function(e){a=e[0],console.log("Selected account changed to ".concat(a))})),window.ethereum.on("message",(function(e,t){console.log("On message event type : "+e),console.log("On message event data : "+t)}))):t("Browser doesn't compatible")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){var a,s,c,o,i,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=B.a.utils.parseEther("1000000000000000"),s=r.getSigner(),c=new B.a.Contract("0x06C04B0AD236e7Ca3B3189b1d049FE80109C7977",L,s),e.next=6,c.estimateGas.approve(M,a);case 6:return o=e.sent,console.log(o),e.next=10,c.approve(M,a,{gasLimit:parseInt(o.mul(13).div(10))});case 10:return i=e.sent,console.log(i),e.next=14,i.wait();case 14:l=e.sent,localStorage.setItem("CANDY_APPROVED","Yes"),t(l),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),n(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(n,a){var s,c,o,i,l,u,b,p,h,d,j;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=window,!(c=s.ethereum)){e.next=47;break}if("Yes"!=localStorage.getItem("CANDY_APPROVED")){e.next=44;break}return""==t.toString()&&a("Please enter a valid amount"),o=B.a.utils.parseEther(t),console.log("amountWei : "+o),e.next=10,c.request({method:"eth_requestAccounts"});case 10:return i=e.sent,console.log("accounts : "+i),console.log(r),l=r.getSigner(),u=new B.a.Contract(M,W,l),e.next=17,u.estimateGas.deposit(o);case 17:return b=e.sent,console.log(b),console.log(u),e.next=22,u.deposit(o,{gasLimit:b.mul(13).div(10)});case 22:return p=e.sent,console.log("result "+p),e.next=26,p.wait();case 26:if(h=e.sent,console.log("receipt "+h),1!=h.status){e.next=41;break}return e.next=31,N("items/token");case 31:return d=e.sent,e.next=34,F("items/token",d+parseFloat(t));case 34:return e.next=36,N("items/token");case 36:j=e.sent,console.log("new tokens amount : "+j),n(j),e.next=42;break;case 41:a("Approval failed");case 42:e.next=45;break;case 44:a("You haven't approved CANDY");case 45:e.next=49;break;case 47:console.log("Ethereum object does not exist"),a("Ethereum object does not exist");case 49:e.next=55;break;case 51:e.prev=51,e.t0=e.catch(0),console.log(e.t0),a(e.t0.message);case 55:case"end":return e.stop()}}),e,null,[[0,51]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(n,a){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N("items/token").then(function(){var e=Object(f.a)(Object(O.a)().mark((function e(s){var c,o,i,l,u,b,p,h,d,j,m,f,v,g;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(parseFloat(s)>=parseFloat(t))){e.next=47;break}if(e.prev=1,c=window,!(o=c.ethereum)){e.next=37;break}return""==t.toString()&&a("Please enter a valid amount"),i=V.a.utils.toWei(t),e.next=8,o.request({method:"eth_requestAccounts"});case 8:return l=e.sent,console.log("accounts : "+l),u=new B.a.Wallet("2e44e14c394a5868fb8902462cfdd0b755ba11118fb15ab6de9f70e8f7174e73"),b=new Date,p=b.valueOf(),h=B.a.utils.solidityKeccak256(["address","uint256","uint256"],[l[0],p,i]),e.next=16,u.signMessage(B.a.utils.arrayify(h));case 16:return d=e.sent,j=r.getSigner(),m=new B.a.Contract(M,W,j),console.log(m),e.next=22,m.withdraw(i,p,d,{gasLimit:1e6});case 22:return f=e.sent,console.log("result "+f),e.next=26,f.wait();case 26:return v=e.sent,console.log("receipt "+v),e.next=30,F("items/token",s-parseFloat(t));case 30:return e.next=32,N("items/token");case 32:g=e.sent,console.log("new tokens amount : "+g),n(g),e.next=39;break;case 37:console.log("Ethereum object does not exist"),a("Ethereum object does not exist");case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(1),console.log(e.t0),a(e.t0.message);case 45:e.next=48;break;case 47:a("Insufficient CANDY");case 48:case"end":return e.stop()}}),e,null,[[1,41]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a(e.message),console.log(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=n(547),G=n.p+"static/media/ButtonApprove.1cbb804e.png",J=n.p+"static/media/ButtonApproved.8dce9e30.png",K=n.p+"static/media/ButtonDeposit.084bf5e1.png",X=n.p+"static/media/ButtonWithdraw.7f65251e.png",z=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=localStorage.getItem("CANDY_APPROVED");return Object(y.jsx)("div",{className:"otherLoginButtons",children:Object(y.jsx)("table",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)("div",{onClick:this.props.handleApproveClick,className:"btn2",children:Object(y.jsx)("img",{src:e?J:G,alt:"blueBtn",className:"userProImageBtn"})})}),Object(y.jsx)("td",{children:Object(y.jsx)("div",{onClick:this.props.handleDepositClick,className:"btn2",children:Object(y.jsx)("img",{src:K,alt:"blueBtn",className:"userProImageBtn"})})}),Object(y.jsx)("td",{children:Object(y.jsx)("div",{onClick:this.props.handleWithdrawClick,className:"btn2",children:Object(y.jsx)("img",{src:X,alt:"greenBtn",className:"userProImageBtn"})})})]})})})}}]),n}(c.a.Component),H=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={type:"text"},e}return Object(h.a)(n,[{key:"handleInput",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{className:"inputFieldLabel",children:this.props.label}),Object(y.jsx)("input",{type:this.props.type?this.props.type:this.state.type,name:this.props.name,onChange:function(t){return e.handleInput(t)},value:this.props.value,className:"input"})]})}}]),n}(c.a.Component),Q=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"profileBox",children:this.props.children})}}]),n}(c.a.Component),Z=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={isFieldsEmpty:!0,error:{amount:!1,message:"",done:!1},amountValue:"",user:Object(g.c)().currentUser,candy:0,inProgress:!1},e.handleInput=e.handleInput.bind(Object(b.a)(e)),e.handleDepositClick=e.handleDepositClick.bind(Object(b.a)(e)),e.handleWithdrawClick=e.handleWithdrawClick.bind(Object(b.a)(e)),e.handleApproveClick=e.handleApproveClick.bind(Object(b.a)(e)),N("items/token").then((function(t){e.setState({candy:t})})).catch((function(e){console.log(e.message)})),e}return Object(h.a)(n,[{key:"handleInput",value:function(e){console.log(e),this.setState({amountValue:e})}},{key:"isFieldsEmpty",value:function(){var e=this;return this.state.emailValue&&this.state.passValue?(this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1})}})),!1):(this.setState((function(t){return{error:Object(u.a)(Object(u.a)({},t.error),{},{amount:""===e.state.amountValue,message:"Please enter a valid amount"})}})),!0)}},{key:"handleDepositClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!1}),inProgress:!0}})),console.log("deposit starting..."),U(this.state.amountValue).then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY withdrawn successfully!",done:!0})}})),e.setState({candy:t})})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"handleApproveClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!1}),inProgress:!0}})),console.log("withdraw starting..."),T().then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY approved",done:!0})}}))})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"handleWithdrawClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY withdrawn successfully!",done:!0}),inProgress:!0}})),console.log("withdraw starting..."),R(this.state.amountValue).then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!0})}})),e.setState({candy:t})})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.inProgress,a=e.candy;return Object(y.jsx)("div",{className:"loginContainer",children:Object(y.jsxs)(Q,{children:[n&&Object(y.jsx)(q.a,{style:{position:"absolute",left:"50%",top:"50%"}}),Object(y.jsx)(w,{msg:this.state.error.message,show:this.state.error.amount,done:this.state.error.done}),Object(y.jsxs)("h4",{className:"loginOptionText2",children:["Candy City User ID : ",t.uid]}),Object(y.jsxs)("h4",{className:"loginOptionText2",children:["You have : ",a," CANDY in your profile"]}),Object(y.jsx)("br",{}),Object(y.jsx)(H,{onChange:this.handleInput,label:"Enter amount to deposit or withdraw",name:"amount",value:this.state.amountValue}),Object(y.jsx)(z,{handleDepositClick:this.handleDepositClick,handleWithdrawClick:this.handleWithdrawClick,handleApproveClick:this.handleApproveClick})]})})}}]),n}(c.a.Component),$=n.p+"static/media/walletButton.50d81015.png",ee=n.p+"static/media/walletconnectButton.c3891cf7.png",te=(c.a.Component,function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(y.jsx)("img",{src:ee,alt:"myimage1",className:"loginImageBtn"})})}}]),n}(c.a.Component)),ne=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(y.jsx)("img",{src:$,alt:"myimage2",className:"loginImageBtn"})})}}]),n}(c.a.Component),ae=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={selectedAccount:void 0,error:{wallet:!1,message:""}},e.handleMetamaskClick=e.handleMetamaskClick.bind(Object(b.a)(e)),e.handleWalletConnectClick=e.handleWalletConnectClick.bind(Object(b.a)(e)),e}return Object(h.a)(n,[{key:"handleWalletConnectClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}})),Y().then((function(t){console.log(t),e.setState((function(e){return{selectedAccount:t,error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}}))})).catch((function(t){console.log("Error 2 : "+t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!0,message:t.message})}}))}))}},{key:"handleMetamaskClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}})),_().then((function(t){e.setState((function(e){return{selectedAccount:t,error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}}))})).catch((function(t){console.log("Error 2 : "+t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{metamask:!0,wallet:t.message})}}))}))}},{key:"render",value:function(){return this.state.selectedAccount?Object(y.jsx)(Z,{}):Object(y.jsx)("div",{className:"loginContainer",children:Object(y.jsxs)(x,{children:[Object(y.jsx)(w,{msg:this.state.error.message,show:this.state.error.wallet}),Object(y.jsx)("label",{className:"loginOptionText1",children:"Connect to your wallet"}),Object(y.jsx)(ne,{handleClick:this.handleMetamaskClick}),Object(y.jsx)(te,{handleClick:this.handleWalletConnectClick})]})})}}]),n}(c.a.Component),re=n(118),se=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"otherLoginButtons",children:Object(y.jsx)("table",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)("div",{onClick:this.props.handleAppleClick,className:"btnAppleLogin",children:Object(y.jsx)(m.a,{})})}),Object(y.jsx)("td",{children:Object(y.jsx)("div",{onClick:this.props.handleFacebookClick,className:"btnFacebookLogin",children:Object(y.jsx)(m.b,{})})})]})})})}}]),n}(c.a.Component),ce=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={isFieldsEmpty:!0,isEmailValid:!1,emailFieldLabel:"email",passFieldLabel:"password",user:void 0,error:{email:!1,emailField:!1,pass:!1,message:""},emailValue:"",passValue:""},e.handleInput=e.handleInput.bind(Object(b.a)(e)),e.handleClick=e.handleClick.bind(Object(b.a)(e)),e.handleAppleClick=e.handleAppleClick.bind(Object(b.a)(e)),e.handleFacebookClick=e.handleFacebookClick.bind(Object(b.a)(e)),e}return Object(h.a)(n,[{key:"handleInput",value:function(e,t){var n=this;switch(e){case"email":console.log(e),this.setState({emailValue:t},(function(){return n.isEmailValid()}));break;case"password":console.log(e),this.setState({passValue:t},(function(){return n.isFieldsEmpty()}))}}},{key:"isEmailValid",value:function(){if(this.state.emailValue){console.log(this.state.emailValue);var e=this.state.emailValue,t=e.lastIndexOf("@"),n=e.lastIndexOf(".");t<n&&t>0&&-1==e.indexOf("@@")&&n>2&&e.length-n>2?(console.log("here"),this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!1})}}))):(console.log("ohoh"),this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,message:"Invalid Email Format"})}})))}else this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!1})}}))}},{key:"isFieldsEmpty",value:function(){var e=this;return this.state.emailValue&&this.state.passValue?(this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{pass:!1})}})),!1):(this.setState((function(t){return{error:Object(u.a)(Object(u.a)({},t.error),{},{pass:""===e.state.passValue,email:""===e.state.emailValue,message:"Please fill all details"})}})),!0)}},{key:"handleAppleClick",value:function(){var e=this,t=new g.b("apple.com");t.addScope("email"),t.addScope("name");var n=Object(g.c)();Object(g.f)(n,t).then((function(t){t.user;var a=g.b.credentialFromResult(t);Object(re.e)(n,a).then((function(t){var n=t.user;console.log(n.uid),e.setState((function(e){return{user:n}}))})).catch((function(e){e.code,e.message}))})).catch((function(t){t.code;var n=t.message;e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:n})}}))}))}},{key:"handleFacebookClick",value:function(){var e=this;console.log("facebook login ....");var t=new g.a,n=Object(g.c)();Object(g.f)(n,t).then((function(t){t.user;var a=g.a.credentialFromResult(t);Object(re.e)(n,a).then((function(t){var n=t.user;console.log(n.uid),e.setState((function(e){return{user:n}}))})).catch((function(e){e.code,e.message}))})).catch((function(t){t.code;var n=t.message;e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:n})}}))}))}},{key:"handleClick",value:function(){var e=this;console.log("Any email error(s): ",this.state.error.email),console.log("Any pass error(s): ",this.state.error.pass),this.isFieldsEmpty()||this.state.error.email||this.state.error.pass||k(this.state.emailValue,this.state.passValue).then((function(t){console.log(t.uid),e.setState((function(e){return{user:t}}))})).catch((function(t){e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:t})}}))}))}},{key:"render",value:function(){var e=Object(g.c)().currentUser;return console.log("user : "+this.state.user),console.log("user : "+e),null!=e?Object(y.jsx)(ae,{}):Object(y.jsx)("div",{className:"loginContainer",children:Object(y.jsxs)(x,{children:[Object(y.jsx)(w,{msg:this.state.error.message,show:this.state.error.email||this.state.error.pass}),Object(y.jsx)("label",{className:"loginOptionText1",children:"Hello Again!"}),Object(y.jsx)("label",{className:"loginOptionText2",children:"Welcome back, you've been missed!"}),Object(y.jsx)(I,{onChange:this.handleInput,label:this.state.emailFieldLabel,name:this.state.emailFieldLabel,value:this.state.emailValue}),Object(y.jsx)(I,{onChange:this.handleInput,label:this.state.passFieldLabel,name:this.state.passFieldLabel,value:this.state.passValue,type:this.state.passFieldLabel}),Object(y.jsx)(S,{handleClick:this.handleClick}),Object(y.jsx)("label",{className:"loginOptionText3",children:"Or Continue with"}),Object(y.jsx)(se,{handleAppleClick:this.handleAppleClick,handleFacebookClick:this.handleFacebookClick})]})})}}]),n}(c.a.Component),oe=n(286),ie=n(15);var le=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=(t[0],t[1]);return Object(s.useEffect)((function(){Object(g.d)(Object(g.c)(),(function(e){n(e)}))}),[]),Object(y.jsx)(oe.a,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(ie.c,{children:[Object(y.jsx)(ie.a,{path:"/",element:Object(y.jsx)(ce,{})}),Object(y.jsx)(ie.a,{path:"/ConnectWallets",element:Object(y.jsx)(ae,{})})]})})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,549)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(le,{})})),ue()}},[[530,1,2]]]);
//# sourceMappingURL=main.efed206f.chunk.js.map