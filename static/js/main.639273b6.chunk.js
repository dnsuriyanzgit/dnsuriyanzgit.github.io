(this.webpackJsonpcandy_city=this.webpackJsonpcandy_city||[]).push([[0],{338:function(e,t,n){},339:function(e,t,n){},340:function(e,t){},366:function(e,t){},407:function(e,t){},409:function(e,t){},433:function(e,t){},435:function(e,t){},447:function(e,t){},448:function(e,t){},469:function(e,t){},472:function(e,t){},482:function(e,t){},484:function(e,t){},565:function(e,t){},571:function(e,t){},584:function(e,t){},593:function(e,t,n){"use strict";n.r(t);var a,r,c=n(6),s=n.n(c),o=n(305),i=n.n(o),l=(n(338),n(18)),u=(n(339),n(21)),b=n(13),d=n(2),h=n(3),j=n(10),p=n(11),f=n(145),O=n(0),m=n(5),g=n(308),v=n(43),x=n(75),k=n.n(x),C=n(126),y=n(93),w=function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var a=Object(y.a)(),r=Object(y.c)(a,"users/"+Object(v.c)().currentUser.uid+"/"+t);Object(y.b)(r,(function(t){var n=t.val(),a=0;a=null==n||"null"==n?0:parseFloat(n),e(a)}))}catch(c){n(c)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){try{var r=Object(y.a)();Object(y.d)(Object(y.c)(r,"users/"+Object(v.c)().currentUser.uid+"/"+t),n),e()}catch(c){a(c)}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=Object(g.a)({apiKey:JSON.parse(k.a.AES.decrypt("U2FsdGVkX18Pl5EX/yrWld3Ci3YXicj8DgKHfhVJbjuYnWrcNDdyU7rFiIBLpZBfki+VpX0J/kEuGPjFl/yevw==","cb6accb6acb8fc3ebaea8692cac3f4gdasgnlk98235kjbsdgv98432bkjbvwe89y5342balkdbgkj11fee2b888").toString(k.a.enc.Utf8)),authDomain:"candycity-e0437.firebaseapp.com",databaseURL:"https://candycity-e0437-default-rtdb.firebaseio.com",projectId:"candycity-e0437",storageBucket:"candycity-e0437.appspot.com",messagingSenderId:"231170619176",appId:"1:231170619176:web:a5a693a07f857661bec21d",measurementId:"G-5QDL2V3CN2"}),N=Object(C.b)(A),P=function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t||alert("Please upload an image first!"),console.log(t);var a=Object(C.c)(N,"/files/".concat(Object(v.c)().currentUser.uid,".").concat(t.name.split(".")[1])),r=Object(C.d)(a,t);r.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);console.log(t)}),(function(e){return console.log(e)}),(function(){Object(C.a)(r.snapshot.ref).then(function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,S("settings/avatarURL",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}catch(c){n(c)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r=Object(v.c)();Object(v.e)(r,t,n).then((function(t){var n=t.user;e(n)})).catch((function(e){e.code;var t=e.message;a(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=n(12),W=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:"box",children:this.props.children})}}]),n}(s.a.Component),B=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={count:11},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:this.props.show?"errorMsg":"hideErrorMsg",children:Object(V.jsx)("h3",{children:this.props.msg})})}}]),n}(s.a.Component),I=n.p+"static/media/ButtonLogin.ab594d68.png",D=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(V.jsx)("img",{src:I,alt:"myimage",className:"loginImageBtn"})})}}]),n}(s.a.Component),L=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={type:"text"},e}return Object(h.a)(n,[{key:"handleInput",value:function(e){var t=e.target.value;this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=this;return Object(V.jsx)("div",{children:Object(V.jsx)("input",{type:this.props.type?this.props.type:this.state.type,name:this.props.name,onChange:function(t){return e.handleInput(t)},value:this.props.value,className:"input",placeholder:"email"==this.props.name?"Email":"Password"})})}}]),n}(s.a.Component),U=n(310),E=n.n(U),Y=n(97),J=n(87),Z=n(325),K="0x61dd8354917c92f986BA81f2222Ac033A4Bb1521",q=function(){var e=Object(m.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(m.a)(Object(O.a)().mark((function e(t,n){var c,s;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=new Z.a({rpc:{25:"https://rpc.vvs.finance/"},infuraId:"9aa3d95b3bc440fa88ea12eaa4456161"}),e.next=4,c.enable();case 4:s=new Y.providers.Web3Provider(c),console.log(s.provider.accounts[0]),r=s,a=s.provider.accounts[0],console.log("account : "+a),t(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=window.ethereum;"undefined"!==typeof n?(n.request({method:"eth_requestAccounts"}).then((function(t){a=t[0],console.log("Selected account is ".concat(a));var n=window.ethereum;r=new J.a.providers.Web3Provider(n),e(a)})).catch((function(e){console.log("Error : "+e),t(e)})),window.ethereum.on("accountsChanged",(function(e){a=e[0],console.log("Selected account changed to ".concat(a))})),window.ethereum.on("message",(function(e,t){console.log("On message event type : "+e),console.log("On message event data : "+t)}))):t("Browser doesn't compatible")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(m.a)(Object(O.a)().mark((function e(t,n){var a,c,s,o,i,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=J.a.utils.parseEther("1000000000000000"),c=r.getSigner(),s=new J.a.Contract("0x06C04B0AD236e7Ca3B3189b1d049FE80109C7977",JSON.parse(k.a.AES.decrypt("U2FsdGVkX1869xNxPgBfqKLZco12zlhLxtQ7rCdH23C3LBT9r0ZexwtNZdtzMWquJU6udJ88C/wHK7oECFFFhICJeHfvTJA+NTakXSKIvAXglgcf2DVVFY9Kga5pLPUFNWxkAx76lA5NRbB7z/zhLemAqB+0CWpBPVDtA/uBZiRqd0Ah6tAPQSM8D1bpU2DJG5VSlYok0X5FjYW3rVbFOtQdtzOoIDUBVmLBCuK7Rb67Te4LCHbEu+8d820t2BHrSRCIadeRkTaxis0uj/fem25qk/KvZU5nqh0huto6ZN9VZUVKl7m6abGU2dS4Zu6wtMVJfMzn4UGmxRfS4pNj6ONS6XkWwu3ov6HqOxTFvZwj7n6iHYOFL1OyJEo6lItbXwhzormch0ZLj/DfWwyfMf+1jcEsY4RdftOZ7KXRqHcjDhZ8yl3glSvhdUKx9853RjyMVFmEapo5skJgi+oTgu6tFjucdAhDmWjwgP2Paj7NYsyitvD+o48fjpnv5VPMgYCjmSB1KciIPoHy67RcdC0yvKntY339d5Uo9pqz55ho2crKwhK4kkyT9XUAVzujC/P9qZ1h2CFTIQsliPtXdhyiRIRhIUx6iuOLxLBIl7k=","lngnasgb9075317jbfaiS09123BJASKLNG0923Hlihfoas832babsdg98032bkvbdasoug0832bvadslag;oasfgpj2370tiuabsdgjb").toString(k.a.enc.Utf8)),c),e.next=6,s.estimateGas.approve(K,a);case 6:return o=e.sent,console.log(o),e.next=10,s.approve(K,a,{gasLimit:parseInt(o.mul(13).div(10))});case 10:return i=e.sent,console.log(i),e.next=14,i.wait();case 14:l=e.sent,localStorage.setItem("CANDY_APPROVED","Yes"),t(l),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),n(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(m.a)(Object(O.a)().mark((function e(n,a){var c,s,o,i,l,u,b,d,h,j,p;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=window,!(s=c.ethereum)){e.next=47;break}if("Yes"!=localStorage.getItem("CANDY_APPROVED")){e.next=44;break}return""==t.toString()&&a("Please enter a valid amount"),o=J.a.utils.parseEther(t),console.log("amountWei : "+o),e.next=10,s.request({method:"eth_requestAccounts"});case 10:return i=e.sent,console.log("accounts : "+i),console.log(r),l=r.getSigner(),u=new J.a.Contract(K,JSON.parse(k.a.AES.decrypt("U2FsdGVkX1/k6S4V3A6HcaZD5W6nYL0kW3Vq/WrC2e70m0MW/YOzaP7zCm8Qij25h3V6xdECce+8BnMI4MFb3bFRF/Yfw3i+JUceNgA5qTh5T/ZseOjjC/AWO2PJodj+B5Or5yXqjrpOI2fCCxfQWUWcpGd/39xtAWp2STZxX3RZBVnkYOwQUc6Ii1r/urC5UjZI3jOEBZtW3fKEAJS/qUwe9k6ta1kwrDNUvEKVAAn6oTbbRHHsQhio/zTQaOi1Oe4cUOKQAHVQr1f4LKX5h3hoGvj70OQ9pULApTKnk9+6x9mr2xvY36pc9pPT3v8QVMHdrA39OI1oMk5mWwGYIJ7PS4dXSyhSYc2BFBrKIDmfTJRoQUxE2s9U+guMQNoW/QL4Nu7bnzVJTVxl3YumwLGBtsRryf7Ci55JA6qGJlgWIMBAbiVGKG+tuhNiCxtLK+9HrZODris+8VeLCWD9EVFdPtZg/Ke6QEH6l5B+FQJZL6hQj1IiDURQKmjYslnmiQfdr3mNy7j4QN51TlYjFrbtCge8IYbAfZdtHuxbN+Dvr74e/LxNVWkkGsnx2vBnZyrX56da3LyirvR38WMqul++magMIuUqDp2dYcAGWtmrruTg5VEkR7vKXh1JiuwjHFt4ZNqW7E3JmIiqqWJl2JBjrgADXwGWIOoWVUO7l4b6bMAgKjCD5fzrdFMF9ipDc0qfLrS1Pw0Hu855GEP4YFnW9Pf+VwMOblfL5tviJou7p123XXOJM89qbSdyFTauYa/t8UFZ5GUWywMYyrcOByArDDL5YyOvZiYZHuVdO4RAgP/x3GZ0h2Dm7aWcofqM","lngnasgb9075317jbfaiS09123BJASKLNG0923Hlihfoas832babsdg98032bkvbdasoug0832bvadslag;oasfgpj2370tiuabsdgjb").toString(k.a.enc.Utf8)),l),e.next=17,u.estimateGas.deposit(o);case 17:return b=e.sent,console.log(b),console.log(u),e.next=22,u.deposit(o,{gasLimit:b.mul(13).div(10)});case 22:return d=e.sent,console.log("result "+d),e.next=26,d.wait();case 26:if(h=e.sent,console.log("receipt "+h),1!=h.status){e.next=41;break}return e.next=31,w("items/token");case 31:return j=e.sent,e.next=34,S("items/token",j+parseFloat(t));case 34:return e.next=36,w("items/token");case 36:p=e.sent,console.log("new tokens amount : "+p),n(p),e.next=42;break;case 41:a("Approval failed");case 42:e.next=45;break;case 44:a("You haven't approved CANDY");case 45:e.next=49;break;case 47:console.log("Ethereum object does not exist"),a("Ethereum object does not exist");case 49:e.next=55;break;case 51:e.prev=51,e.t0=e.catch(0),console.log(e.t0),a(e.t0.message);case 55:case"end":return e.stop()}}),e,null,[[0,51]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(m.a)(Object(O.a)().mark((function e(n,a){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w("items/token").then(function(){var e=Object(m.a)(Object(O.a)().mark((function e(c){var s,o,i,l,u,b,d,h,j,p,f,m,g,v;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(parseFloat(c)>=parseFloat(t))){e.next=47;break}if(e.prev=1,s=window,!(o=s.ethereum)){e.next=37;break}return""==t.toString()&&a("Please enter a valid amount"),i=E.a.utils.toWei(t),e.next=8,o.request({method:"eth_requestAccounts"});case 8:return l=e.sent,console.log("accounts : "+l),u=new J.a.Wallet(JSON.parse(k.a.AES.decrypt("U2FsdGVkX18woOrBJi+yqRZvG59FKKnCN51PyH29wqyb6VtbtiEqpAWbP/BZKZLBfe3kt9fGYry2EPqcaVaLp0yvUCsAXcazLZrP/BDe52TK1mZSttkxYWISvisOLaMn","lngnasgb9075317jbfaiS09123BJASKLNG0923Hlihfoas832babsdg98032bkvbdasoug0832bvadslag;oasfgpj2370tiuabsdgjb").toString(k.a.enc.Utf8))),b=new Date,d=b.valueOf(),h=J.a.utils.solidityKeccak256(["address","uint256","uint256"],[l[0],d,i]),e.next=16,u.signMessage(J.a.utils.arrayify(h));case 16:return j=e.sent,p=r.getSigner(),f=new J.a.Contract(K,JSON.parse(k.a.AES.decrypt("U2FsdGVkX1/k6S4V3A6HcaZD5W6nYL0kW3Vq/WrC2e70m0MW/YOzaP7zCm8Qij25h3V6xdECce+8BnMI4MFb3bFRF/Yfw3i+JUceNgA5qTh5T/ZseOjjC/AWO2PJodj+B5Or5yXqjrpOI2fCCxfQWUWcpGd/39xtAWp2STZxX3RZBVnkYOwQUc6Ii1r/urC5UjZI3jOEBZtW3fKEAJS/qUwe9k6ta1kwrDNUvEKVAAn6oTbbRHHsQhio/zTQaOi1Oe4cUOKQAHVQr1f4LKX5h3hoGvj70OQ9pULApTKnk9+6x9mr2xvY36pc9pPT3v8QVMHdrA39OI1oMk5mWwGYIJ7PS4dXSyhSYc2BFBrKIDmfTJRoQUxE2s9U+guMQNoW/QL4Nu7bnzVJTVxl3YumwLGBtsRryf7Ci55JA6qGJlgWIMBAbiVGKG+tuhNiCxtLK+9HrZODris+8VeLCWD9EVFdPtZg/Ke6QEH6l5B+FQJZL6hQj1IiDURQKmjYslnmiQfdr3mNy7j4QN51TlYjFrbtCge8IYbAfZdtHuxbN+Dvr74e/LxNVWkkGsnx2vBnZyrX56da3LyirvR38WMqul++magMIuUqDp2dYcAGWtmrruTg5VEkR7vKXh1JiuwjHFt4ZNqW7E3JmIiqqWJl2JBjrgADXwGWIOoWVUO7l4b6bMAgKjCD5fzrdFMF9ipDc0qfLrS1Pw0Hu855GEP4YFnW9Pf+VwMOblfL5tviJou7p123XXOJM89qbSdyFTauYa/t8UFZ5GUWywMYyrcOByArDDL5YyOvZiYZHuVdO4RAgP/x3GZ0h2Dm7aWcofqM","lngnasgb9075317jbfaiS09123BJASKLNG0923Hlihfoas832babsdg98032bkvbdasoug0832bvadslag;oasfgpj2370tiuabsdgjb").toString(k.a.enc.Utf8)),p),console.log(f),e.next=22,f.withdraw(i,d,j,{gasLimit:1e6});case 22:return m=e.sent,console.log("result "+m),e.next=26,m.wait();case 26:return g=e.sent,console.log("receipt "+g),e.next=30,S("items/token",c-parseFloat(t));case 30:return e.next=32,w("items/token");case 32:v=e.sent,console.log("new tokens amount : "+v),n(v),e.next=39;break;case 37:console.log("Ethereum object does not exist"),a("Ethereum object does not exist");case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(1),console.log(e.t0),a(e.t0.message);case 45:e.next=48;break;case 47:a("Insufficient CANDY");case 48:case"end":return e.stop()}}),e,null,[[1,41]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a(e.message),console.log(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(617),H=n(618),X=n(621),z=n.p+"static/media/ButtonApprove.1cbb804e.png",_=n.p+"static/media/ButtonApproved.8dce9e30.png",$=n.p+"static/media/ButtonDeposit.084bf5e1.png",ee=n.p+"static/media/ButtonWithdraw.7f65251e.png",te=(n(590),function(e){var t=e.onChange,n=e.src;return Object(V.jsxs)("label",{htmlFor:"photo-upload",className:"custom-file-upload fas",children:[Object(V.jsx)("div",{className:"img-wrap img-upload",children:Object(V.jsx)("img",{for:"photo-upload",src:n})}),Object(V.jsx)("input",{id:"photo-upload",type:"file",onChange:t})]})}),ne=function(e){var t=e.onChange,n=e.value;return Object(V.jsxs)("div",{className:"field",children:[Object(V.jsx)("label",{htmlFor:"name",children:"name:"}),Object(V.jsx)("input",{id:"name",type:"text",onChange:t,maxlength:"25",value:n,placeholder:"Alexa",required:!0})]})},ae=function(e){var t=e.onSubmit,n=e.src,a=e.name,r=e.status;return Object(V.jsx)("div",{className:"card",children:Object(V.jsxs)("form",{onSubmit:t,children:[Object(V.jsx)("h1",{children:"Profile"}),Object(V.jsx)("label",{className:"custom-file-upload fas",children:Object(V.jsx)("div",{className:"img-wrap",children:Object(V.jsx)("img",{for:"photo-upload",src:n})})}),Object(V.jsx)("div",{className:"name",children:a}),Object(V.jsx)("div",{className:"status",children:r}),Object(V.jsx)("button",{type:"submit",className:"submitProfile",children:"Edit Profile"})]})})},re=function(e){var t=e.onSubmit,n=e.children;return Object(V.jsx)("div",{className:"card",children:Object(V.jsxs)("form",{onSubmit:t,children:[Object(V.jsx)("h1",{children:"Profile Card"}),n,Object(V.jsx)("button",{type:"submit",className:"save submitProfile",children:"Save"})]})})},ce=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={file:"",imagePreviewUrl:"https://github.com/OlgaKoplik/CodePen/blob/master/profile.jpg?raw=true",name:"",status:"",active:"edit"},e.photoUpload=function(){var t=Object(m.a)(Object(O.a)().mark((function t(n){var a,r;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=new FileReader,r=n.target.files[0],P(r),a.onloadend=function(){e.setState({file:r,imagePreviewUrl:a.result})},a.readAsDataURL(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editName=function(){var t=Object(m.a)(Object(O.a)().mark((function t(n){var a;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.value,t.next=3,S("settings/userName",a);case 3:e.setState({name:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(t){t.preventDefault();var n="edit"===e.state.active?"profile":"edit";e.props.handleSaveProfileClick(),e.setState({active:n})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.imagePreviewUrl,n=e.name,a=e.status,r=e.active;return Object(V.jsx)("div",{children:"edit"===r?Object(V.jsxs)(re,{onSubmit:this.handleSubmit,children:[Object(V.jsx)(te,{onChange:this.photoUpload,src:t}),Object(V.jsx)(ne,{onChange:this.editName,value:n})]}):Object(V.jsx)(ae,{onSubmit:this.handleSubmit,src:t,name:n,status:a})})}}]),n}(s.a.Component),se=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=localStorage.getItem("CANDY_APPROVED");return Object(V.jsx)("div",{className:"otherLoginButtons",children:Object(V.jsx)("table",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("div",{onClick:this.props.handleApproveClick,className:"btn2",children:Object(V.jsx)("img",{src:e?_:z,alt:"blueBtn",className:"userProImageBtn"})})}),Object(V.jsx)("td",{children:Object(V.jsx)("div",{onClick:this.props.handleDepositClick,className:"btn2",children:Object(V.jsx)("img",{src:$,alt:"blueBtn",className:"userProImageBtn"})})}),Object(V.jsx)("td",{children:Object(V.jsx)("div",{onClick:this.props.handleWithdrawClick,className:"btn2",children:Object(V.jsx)("img",{src:ee,alt:"greenBtn",className:"userProImageBtn"})})})]})})})}}]),n}(s.a.Component),oe=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={type:"text"},e}return Object(h.a)(n,[{key:"handleInput",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{className:"inputFieldLabel",children:this.props.label}),Object(V.jsx)("input",{type:this.props.type?this.props.type:this.state.type,name:this.props.name,onChange:function(t){return e.handleInput(t)},value:this.props.value,className:"input"})]})}}]),n}(s.a.Component),ie=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:"profileBox",children:this.props.children})}}]),n}(s.a.Component),le=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={isFieldsEmpty:!0,error:{amount:!1,message:"",done:!1},amountValue:"",user:Object(v.c)().currentUser,candy:0,inProgress:!1,profileEdit:!1},e.handleInput=e.handleInput.bind(Object(b.a)(e)),e.handleDepositClick=e.handleDepositClick.bind(Object(b.a)(e)),e.handleWithdrawClick=e.handleWithdrawClick.bind(Object(b.a)(e)),e.handleApproveClick=e.handleApproveClick.bind(Object(b.a)(e)),e.handleProfileClick=e.handleProfileClick.bind(Object(b.a)(e)),e.handleProfileSave=e.handleProfileSave.bind(Object(b.a)(e)),w("items/token").then((function(t){e.setState({candy:t})})).catch((function(e){console.log(e.message)})),e}return Object(h.a)(n,[{key:"handleInput",value:function(e){console.log(e),this.setState({amountValue:e})}},{key:"isFieldsEmpty",value:function(){var e=this;return this.state.emailValue&&this.state.passValue?(this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1})}})),!1):(this.setState((function(t){return{error:Object(u.a)(Object(u.a)({},t.error),{},{amount:""===e.state.amountValue,message:"Please enter a valid amount"})}})),!0)}},{key:"handleDepositClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!1}),inProgress:!0}})),console.log("deposit starting..."),T(this.state.amountValue).then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY withdrawn successfully!",done:!0})}})),e.setState({candy:t})})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"handleApproveClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!1}),inProgress:!0}})),console.log("withdraw starting..."),G().then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY approved",done:!0})}}))})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"handleProfileClick",value:function(){console.log("handleProfileClick"),this.setState((function(e){return{profileEdit:!0}}))}},{key:"handleProfileSave",value:function(){console.log("handleProfileClick"),this.setState((function(e){return{profileEdit:!1}}))}},{key:"handleWithdrawClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY withdrawn successfully!",done:!0}),inProgress:!0}})),console.log("withdraw starting..."),Q(this.state.amountValue).then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!0})}})),e.setState({candy:t})})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.inProgress,a=e.candy;return e.profileEdit?Object(V.jsx)("div",{className:"loginContainer",children:Object(V.jsx)(ce,{handleSaveProfileClick:this.handleProfileSave})}):Object(V.jsxs)("div",{className:"loginContainer",children:[Object(V.jsx)(R.a,{onClick:this.handleProfileClick,class:"fab fa-instagram",children:Object(V.jsx)(H.a,{style:{width:"60px",height:"60px"}})}),Object(V.jsxs)(ie,{children:[n&&Object(V.jsx)(X.a,{style:{position:"absolute",left:"50%",top:"50%"}}),Object(V.jsx)(B,{msg:this.state.error.message,show:this.state.error.amount,done:this.state.error.done}),Object(V.jsxs)("h4",{className:"loginOptionText2",children:["Candy City User ID : ",t.uid]}),Object(V.jsxs)("h4",{className:"loginOptionText2",children:["You have : ",a," CANDY in your profile"]}),Object(V.jsx)("br",{}),Object(V.jsx)(oe,{onChange:this.handleInput,label:"Enter amount to deposit or withdraw",name:"amount",value:this.state.amountValue}),Object(V.jsx)(se,{handleDepositClick:this.handleDepositClick,handleWithdrawClick:this.handleWithdrawClick,handleApproveClick:this.handleApproveClick})]})]})}}]),n}(s.a.Component),ue=n.p+"static/media/walletButton.50d81015.png",be=n.p+"static/media/walletconnectButton.c3891cf7.png",de=(s.a.Component,function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(V.jsx)("img",{src:be,alt:"myimage1",className:"loginImageBtn"})})}}]),n}(s.a.Component)),he=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(V.jsx)("img",{src:ue,alt:"myimage2",className:"loginImageBtn"})})}}]),n}(s.a.Component),je=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={selectedAccount:void 0,error:{wallet:!1,message:""}},e.handleMetamaskClick=e.handleMetamaskClick.bind(Object(b.a)(e)),e.handleWalletConnectClick=e.handleWalletConnectClick.bind(Object(b.a)(e)),e}return Object(h.a)(n,[{key:"handleWalletConnectClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}})),q().then((function(t){console.log(t),e.setState((function(e){return{selectedAccount:t,error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}}))})).catch((function(t){console.log("Error 2 : "+t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!0,message:t.message})}}))}))}},{key:"handleMetamaskClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}})),M().then((function(t){e.setState((function(e){return{selectedAccount:t,error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}}))})).catch((function(t){console.log("Error 2 : "+t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{metamask:!0,wallet:t.message})}}))}))}},{key:"render",value:function(){return this.state.selectedAccount?Object(V.jsx)(le,{}):Object(V.jsx)("div",{className:"loginContainer",children:Object(V.jsxs)(W,{children:[Object(V.jsx)(B,{msg:this.state.error.message,show:this.state.error.wallet}),Object(V.jsx)("label",{className:"loginOptionText1",children:"Connect to your wallet"}),Object(V.jsx)(he,{handleClick:this.handleMetamaskClick}),Object(V.jsx)(de,{handleClick:this.handleWalletConnectClick})]})})}}]),n}(s.a.Component),pe=n(146),fe=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:"otherLoginButtons",children:Object(V.jsx)("table",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("div",{onClick:this.props.handleAppleClick,className:"btnAppleLogin",children:Object(V.jsx)(f.a,{})})}),Object(V.jsx)("td",{children:Object(V.jsx)("div",{onClick:this.props.handleFacebookClick,className:"btnFacebookLogin",children:Object(V.jsx)(f.b,{})})})]})})})}}]),n}(s.a.Component),Oe=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={isFieldsEmpty:!0,isEmailValid:!1,emailFieldLabel:"email",passFieldLabel:"password",user:void 0,error:{email:!1,emailField:!1,pass:!1,message:""},emailValue:"",passValue:""},e.handleInput=e.handleInput.bind(Object(b.a)(e)),e.handleClick=e.handleClick.bind(Object(b.a)(e)),e.handleAppleClick=e.handleAppleClick.bind(Object(b.a)(e)),e.handleFacebookClick=e.handleFacebookClick.bind(Object(b.a)(e)),e}return Object(h.a)(n,[{key:"handleInput",value:function(e,t){var n=this;switch(e){case"email":console.log(e),this.setState({emailValue:t},(function(){return n.isEmailValid()}));break;case"password":console.log(e),this.setState({passValue:t},(function(){return n.isFieldsEmpty()}))}}},{key:"isEmailValid",value:function(){if(this.state.emailValue){console.log(this.state.emailValue);var e=this.state.emailValue,t=e.lastIndexOf("@"),n=e.lastIndexOf(".");t<n&&t>0&&-1==e.indexOf("@@")&&n>2&&e.length-n>2?(console.log("here"),this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!1})}}))):(console.log("ohoh"),this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,message:"Invalid Email Format"})}})))}else this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!1})}}))}},{key:"isFieldsEmpty",value:function(){var e=this;return this.state.emailValue&&this.state.passValue?(this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{pass:!1})}})),!1):(this.setState((function(t){return{error:Object(u.a)(Object(u.a)({},t.error),{},{pass:""===e.state.passValue,email:""===e.state.emailValue,message:"Please fill all details"})}})),!0)}},{key:"handleAppleClick",value:function(){var e=this,t=new v.b("apple.com");t.addScope("email"),t.addScope("name");var n=Object(v.c)();Object(v.f)(n,t).then((function(t){t.user;var a=v.b.credentialFromResult(t);Object(pe.e)(n,a).then((function(t){var n=t.user;console.log(n.uid),e.setState((function(e){return{user:n}}))})).catch((function(e){e.code,e.message}))})).catch((function(t){t.code;var n=t.message;e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:n})}}))}))}},{key:"handleFacebookClick",value:function(){var e=this;console.log("facebook login ....");var t=new v.a,n=Object(v.c)();Object(v.f)(n,t).then((function(t){t.user;var a=v.a.credentialFromResult(t);Object(pe.e)(n,a).then((function(t){var n=t.user;console.log(n.uid),e.setState((function(e){return{user:n}}))})).catch((function(e){e.code,e.message}))})).catch((function(t){t.code;var n=t.message;e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:n})}}))}))}},{key:"handleClick",value:function(){var e=this;console.log("Any email error(s): ",this.state.error.email),console.log("Any pass error(s): ",this.state.error.pass),this.isFieldsEmpty()||this.state.error.email||this.state.error.pass||F(this.state.emailValue,this.state.passValue).then((function(t){console.log(t.uid),e.setState((function(e){return{user:t}}))})).catch((function(t){e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:t})}}))}))}},{key:"render",value:function(){var e=Object(v.c)().currentUser;return console.log("user : "+this.state.user),console.log("user : "+e),null!=e?Object(V.jsx)(je,{}):Object(V.jsx)("div",{className:"loginContainer",children:Object(V.jsxs)(W,{children:[Object(V.jsx)(B,{msg:this.state.error.message,show:this.state.error.email||this.state.error.pass}),Object(V.jsx)("label",{className:"loginOptionText1",children:"Hello Again!"}),Object(V.jsx)("label",{className:"loginOptionText2",children:"Welcome back, you've been missed!"}),Object(V.jsx)(L,{onChange:this.handleInput,label:this.state.emailFieldLabel,name:this.state.emailFieldLabel,value:this.state.emailValue}),Object(V.jsx)(L,{onChange:this.handleInput,label:this.state.passFieldLabel,name:this.state.passFieldLabel,value:this.state.passValue,type:this.state.passFieldLabel}),Object(V.jsx)(D,{handleClick:this.handleClick}),Object(V.jsx)("label",{className:"loginOptionText3",children:"Or Continue with"}),Object(V.jsx)(fe,{handleAppleClick:this.handleAppleClick,handleFacebookClick:this.handleFacebookClick})]})})}}]),n}(s.a.Component),me=n(323),ge=n(17);var ve=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=(t[0],t[1]);return Object(c.useEffect)((function(){Object(v.d)(Object(v.c)(),(function(e){n(e)}))}),[]),Object(V.jsx)(me.a,{children:Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(ge.c,{children:[Object(V.jsx)(ge.a,{path:"/",element:Object(V.jsx)(Oe,{})}),Object(V.jsx)(ge.a,{path:"/ConnectWallets",element:Object(V.jsx)(je,{})})]})})})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,622)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(V.jsx)(s.a.StrictMode,{children:Object(V.jsx)(ve,{})})),xe()}},[[593,1,2]]]);
//# sourceMappingURL=main.639273b6.chunk.js.map