(this.webpackJsonpcandy_city=this.webpackJsonpcandy_city||[]).push([[0],{301:function(e,t,n){},302:function(e,t,n){},304:function(e,t){},345:function(e,t){},347:function(e,t){},371:function(e,t){},373:function(e,t){},385:function(e,t){},386:function(e,t){},407:function(e,t){},410:function(e,t){},420:function(e,t){},422:function(e,t){},503:function(e,t){},509:function(e,t){},522:function(e,t){},530:function(e,t,n){"use strict";n.r(t);var a,r,c=n(9),s=n.n(c),o=n(268),i=n.n(o),l=(n(301),n(19)),u=(n(302),n(18)),b=n(14),h=n(2),p=n(3),d=n(10),j=n(11),m=n(117),O=n(0),f=n(5),v=n(271),g=n(38),y=(Object(v.a)({apiKey:"AIzaSyAS0-JhXA93OUDYl_2a01nF66FrUVXvAeI",authDomain:"candycity-e0437.firebaseapp.com",databaseURL:"https://candycity-e0437-default-rtdb.firebaseio.com",projectId:"candycity-e0437",storageBucket:"candycity-e0437.appspot.com",messagingSenderId:"231170619176",appId:"1:231170619176:web:a5a693a07f857661bec21d",measurementId:"G-5QDL2V3CN2"}),function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r=Object(g.c)();Object(g.e)(r,t,n).then((function(t){var n=t.user;e(n)})).catch((function(e){e.code;var t=e.message;a(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=n(12),x=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"box",children:this.props.children})}}]),n}(s.a.Component),C=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={count:11},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{className:this.props.show?"errorMsg":"hideErrorMsg",children:Object(k.jsx)("h3",{children:this.props.msg})})}}]),n}(s.a.Component),w=n.p+"static/media/ButtonLogin.ab594d68.png",S=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(k.jsx)("img",{src:w,alt:"myimage",className:"loginImageBtn"})})}}]),n}(s.a.Component),A=n(79),N=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var a=Object(A.a)(),r=Object(A.c)(a,"users/"+Object(g.c)().currentUser.uid+"/"+t);Object(A.b)(r,(function(t){var n=t.val();e(n)}))}catch(c){n(c)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){try{var r=Object(A.a)();Object(A.d)(Object(A.c)(r,"users/"+Object(g.c)().currentUser.uid+"/"+t),n),e()}catch(c){a(c)}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={type:"text"},e}return Object(p.a)(n,[{key:"handleInput",value:function(e){var t=e.target.value;this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{children:Object(k.jsx)("input",{type:this.props.type?this.props.type:this.state.type,name:this.props.name,onChange:function(t){return e.handleInput(t)},value:this.props.value,className:"input",placeholder:"email"==this.props.name?"Email":"Password"})})}}]),n}(s.a.Component),P=n(273),V=n.n(P),E=n(77),B=n(71),D=n(288),L=[{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],W=[{inputs:[{internalType:"uint256",name:"amount_",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"bytes",name:"sign",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[],name:"depositFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],M="0x61dd8354917c92f986BA81f2222Ac033A4Bb1521",Y=function(){var e=Object(f.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){var c,s;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=new D.a({rpc:{25:"https://matic-mainnet.chainstacklabs.com"},infuraId:"9aa3d95b3bc440fa88ea12eaa4456161"}),e.next=4,c.enable();case 4:s=new E.providers.Web3Provider(c),console.log(s.provider.accounts[0]),r=s,a=s.provider.accounts[0],console.log("account : "+a),t(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=window.ethereum;"undefined"!==typeof n?(n.request({method:"eth_requestAccounts"}).then((function(t){a=t[0],console.log("Selected account is ".concat(a));var n=window.ethereum;r=new B.a.providers.Web3Provider(n),e(a)})).catch((function(e){console.log("Error : "+e),t(e)})),window.ethereum.on("accountsChanged",(function(e){a=e[0],console.log("Selected account changed to ".concat(a))})),window.ethereum.on("message",(function(e,t){console.log("On message event type : "+e),console.log("On message event data : "+t)}))):t("Browser doesn't compatible")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(t,n){var a,c,s,o,i,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=B.a.utils.parseEther("1000000000000000"),c=r.getSigner(),s=new B.a.Contract("0x06C04B0AD236e7Ca3B3189b1d049FE80109C7977",L,c),e.next=6,s.estimateGas.approve(M,a);case 6:return o=e.sent,console.log(o),e.next=10,s.approve(M,a,{gasLimit:parseInt(o.mul(13).div(10))});case 10:return i=e.sent,console.log(i),e.next=14,i.wait();case 14:l=e.sent,localStorage.setItem("CANDY_APPROVED","Yes"),t(l),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),n(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(n,a){var c,s,o,i,l,u,b,h,p,d;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=window,!(s=c.ethereum)){e.next=43;break}if("Yes"!=localStorage.getItem("CANDY_APPROVED")){e.next=40;break}return""==t.toString()&&a("Please enter a valid amount"),o=B.a.utils.parseEther(t),console.log("amountWei : "+o),e.next=10,s.request({method:"eth_requestAccounts"});case 10:return i=e.sent,console.log("accounts : "+i),console.log(r),l=r.getSigner(),u=new B.a.Contract(M,W,l),e.next=17,u.estimateGas.deposit(o);case 17:return b=e.sent,console.log(b),console.log(u),e.next=22,u.deposit(o,{gasLimit:b.mul(13).div(10)});case 22:return h=e.sent,console.log("result "+h),e.next=26,h.wait();case 26:if(p=e.sent,console.log("receipt "+p),1!=p.status){e.next=37;break}return e.next=31,N("items/token");case 31:return d=e.sent,e.next=34,I("items/token",d+t);case 34:n(p),e.next=38;break;case 37:a("Approval failed");case 38:e.next=41;break;case 40:a("You haven't approved CANDY");case 41:e.next=45;break;case 43:console.log("Ethereum object does not exist"),a("Ethereum object does not exist");case 45:e.next=51;break;case 47:e.prev=47,e.t0=e.catch(0),console.log(e.t0),a(e.t0.message);case 51:case"end":return e.stop()}}),e,null,[[0,47]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(Object(O.a)().mark((function e(n,a){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N("items/token").then(function(){var e=Object(f.a)(Object(O.a)().mark((function e(c){var s,o,i,l,u,b,h,p,d,j,m,f,v;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c>=parseFloat(t))){e.next=43;break}if(e.prev=1,s=window,!(o=s.ethereum)){e.next=33;break}return""==t.toString()&&a("Please enter a valid amount"),i=V.a.utils.toWei(t),e.next=8,o.request({method:"eth_requestAccounts"});case 8:return l=e.sent,console.log("accounts : "+l),u=new B.a.Wallet("2e44e14c394a5868fb8902462cfdd0b755ba11118fb15ab6de9f70e8f7174e73"),b=new Date,h=b.valueOf(),p=B.a.utils.solidityKeccak256(["address","uint256","uint256"],[l[0],h,i]),e.next=16,u.signMessage(B.a.utils.arrayify(p));case 16:return d=e.sent,j=r.getSigner(),m=new B.a.Contract(M,W,j),console.log(m),e.next=22,m.withdraw(i,h,d,{gasLimit:1e6});case 22:return f=e.sent,console.log("result "+f),e.next=26,f.wait();case 26:return v=e.sent,console.log("receipt "+v),e.next=30,I("items/token",c-t);case 30:n(v),e.next=35;break;case 33:console.log("Ethereum object does not exist"),a("Ethereum object does not exist");case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(1),console.log(e.t0),a(e.t0.message);case 41:e.next=44;break;case 43:a("Insufficient CANDY");case 44:case"end":return e.stop()}}),e,null,[[1,37]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a(e.message),console.log(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=n(547),G=n.p+"static/media/ButtonApprove.1cbb804e.png",J=n.p+"static/media/ButtonApproved.8dce9e30.png",K=n.p+"static/media/ButtonDeposit.084bf5e1.png",X=n.p+"static/media/ButtonWithdraw.7f65251e.png",z=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=localStorage.getItem("CANDY_APPROVED");return Object(k.jsx)("div",{className:"otherLoginButtons",children:Object(k.jsx)("table",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("div",{onClick:this.props.handleApproveClick,className:"btn2",children:Object(k.jsx)("img",{src:e?J:G,alt:"blueBtn",className:"userProImageBtn"})})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{onClick:this.props.handleDepositClick,className:"btn2",children:Object(k.jsx)("img",{src:K,alt:"blueBtn",className:"userProImageBtn"})})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{onClick:this.props.handleWithdrawClick,className:"btn2",children:Object(k.jsx)("img",{src:X,alt:"greenBtn",className:"userProImageBtn"})})})]})})})}}]),n}(s.a.Component),H=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={type:"text"},e}return Object(p.a)(n,[{key:"handleInput",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"inputFieldLabel",children:this.props.label}),Object(k.jsx)("input",{type:this.props.type?this.props.type:this.state.type,name:this.props.name,onChange:function(t){return e.handleInput(t)},value:this.props.value,className:"input"})]})}}]),n}(s.a.Component),Q=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"profileBox",children:this.props.children})}}]),n}(s.a.Component),Z=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={isFieldsEmpty:!0,error:{amount:!1,message:"",done:!1},amountValue:"",user:Object(g.c)().currentUser,candy:0,inProgress:!1},e.handleInput=e.handleInput.bind(Object(b.a)(e)),e.handleDepositClick=e.handleDepositClick.bind(Object(b.a)(e)),e.handleWithdrawClick=e.handleWithdrawClick.bind(Object(b.a)(e)),e.handleApproveClick=e.handleApproveClick.bind(Object(b.a)(e)),N("items/token").then((function(t){e.setState({candy:t})})).catch((function(e){console.log(e.message)})),e}return Object(p.a)(n,[{key:"handleInput",value:function(e){console.log(e),this.setState({amountValue:e})}},{key:"isFieldsEmpty",value:function(){var e=this;return this.state.emailValue&&this.state.passValue?(this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1})}})),!1):(this.setState((function(t){return{error:Object(u.a)(Object(u.a)({},t.error),{},{amount:""===e.state.amountValue,message:"Please enter a valid amount"})}})),!0)}},{key:"handleDepositClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!1}),inProgress:!0}})),console.log("deposit starting..."),U(this.state.amountValue).then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY withdrawn successfully!",done:!0})}}))})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"handleApproveClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!1}),inProgress:!0}})),console.log("withdraw starting..."),T().then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY approved",done:!0})}}))})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"handleWithdrawClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"CANDY withdrawn successfully!",done:!0}),inProgress:!0}})),console.log("withdraw starting..."),R(this.state.amountValue).then((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!1,message:"",done:!0})}}))})).catch((function(t){console.log(t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{amount:!0,message:t})}}))})).finally((function(){e.setState({inProgress:!1})}))}},{key:"render",value:function(){var e=this.state,t=(e.user,e.inProgress);return Object(k.jsx)("div",{className:"loginContainer",children:Object(k.jsxs)(Q,{children:[t&&Object(k.jsx)(q.a,{style:{position:"absolute",left:"50%",top:"50%"}}),Object(k.jsx)(C,{msg:this.state.error.message,show:this.state.error.amount,done:this.state.error.done}),Object(k.jsxs)("h4",{className:"loginOptionText2",children:["Candy City User ID : ",this.state.user.uid]}),Object(k.jsxs)("h4",{className:"loginOptionText2",children:["You have : ",this.state.candy," CANDY in your profile"]}),Object(k.jsx)("br",{}),Object(k.jsx)(H,{onChange:this.handleInput,label:"Enter amount to deposit or withdraw",name:"amount",value:this.state.amountValue}),Object(k.jsx)(z,{handleDepositClick:this.handleDepositClick,handleWithdrawClick:this.handleWithdrawClick,handleApproveClick:this.handleApproveClick})]})})}}]),n}(s.a.Component),$=n.p+"static/media/walletButton.50d81015.png",ee=n.p+"static/media/walletconnectButton.c3891cf7.png",te=(s.a.Component,function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(k.jsx)("img",{src:ee,alt:"myimage1",className:"loginImageBtn"})})}}]),n}(s.a.Component)),ne=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={count:0},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{onClick:this.props.handleClick,className:"btn2",children:Object(k.jsx)("img",{src:$,alt:"myimage2",className:"loginImageBtn"})})}}]),n}(s.a.Component),ae=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={selectedAccount:void 0,error:{wallet:!1,message:""}},e.handleMetamaskClick=e.handleMetamaskClick.bind(Object(b.a)(e)),e.handleWalletConnectClick=e.handleWalletConnectClick.bind(Object(b.a)(e)),e}return Object(p.a)(n,[{key:"handleWalletConnectClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}})),Y().then((function(t){console.log(t),e.setState((function(e){return{selectedAccount:t,error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}}))})).catch((function(t){console.log("Error 2 : "+t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!0,message:t.message})}}))}))}},{key:"handleMetamaskClick",value:function(){var e=this;this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}})),_().then((function(t){e.setState((function(e){return{selectedAccount:t,error:Object(u.a)(Object(u.a)({},e.error),{},{wallet:!1})}}))})).catch((function(t){console.log("Error 2 : "+t),e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{metamask:!0,wallet:t.message})}}))}))}},{key:"render",value:function(){return this.state.selectedAccount?Object(k.jsx)(Z,{}):Object(k.jsx)("div",{className:"loginContainer",children:Object(k.jsxs)(x,{children:[Object(k.jsx)(C,{msg:this.state.error.message,show:this.state.error.wallet}),Object(k.jsx)("label",{className:"loginOptionText1",children:"Connect to your wallet"}),Object(k.jsx)(ne,{handleClick:this.handleMetamaskClick}),Object(k.jsx)(te,{handleClick:this.handleWalletConnectClick})]})})}}]),n}(s.a.Component),re=n(118),ce=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"otherLoginButtons",children:Object(k.jsx)("table",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("div",{onClick:this.props.handleAppleClick,className:"btnAppleLogin",children:Object(k.jsx)(m.a,{})})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{onClick:this.props.handleFacebookClick,className:"btnFacebookLogin",children:Object(k.jsx)(m.b,{})})})]})})})}}]),n}(s.a.Component),se=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={isFieldsEmpty:!0,isEmailValid:!1,emailFieldLabel:"email",passFieldLabel:"password",user:void 0,error:{email:!1,emailField:!1,pass:!1,message:""},emailValue:"",passValue:""},e.handleInput=e.handleInput.bind(Object(b.a)(e)),e.handleClick=e.handleClick.bind(Object(b.a)(e)),e.handleAppleClick=e.handleAppleClick.bind(Object(b.a)(e)),e.handleFacebookClick=e.handleFacebookClick.bind(Object(b.a)(e)),e}return Object(p.a)(n,[{key:"handleInput",value:function(e,t){var n=this;switch(e){case"email":console.log(e),this.setState({emailValue:t},(function(){return n.isEmailValid()}));break;case"password":console.log(e),this.setState({passValue:t},(function(){return n.isFieldsEmpty()}))}}},{key:"isEmailValid",value:function(){if(this.state.emailValue){console.log(this.state.emailValue);var e=this.state.emailValue,t=e.lastIndexOf("@"),n=e.lastIndexOf(".");t<n&&t>0&&-1==e.indexOf("@@")&&n>2&&e.length-n>2?(console.log("here"),this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!1})}}))):(console.log("ohoh"),this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,message:"Invalid Email Format"})}})))}else this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!1})}}))}},{key:"isFieldsEmpty",value:function(){var e=this;return this.state.emailValue&&this.state.passValue?(this.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{pass:!1})}})),!1):(this.setState((function(t){return{error:Object(u.a)(Object(u.a)({},t.error),{},{pass:""===e.state.passValue,email:""===e.state.emailValue,message:"Please fill all details"})}})),!0)}},{key:"handleAppleClick",value:function(){var e=this,t=new g.b("apple.com");t.addScope("email"),t.addScope("name");var n=Object(g.c)();Object(g.f)(n,t).then((function(t){t.user;var a=g.b.credentialFromResult(t);Object(re.e)(n,a).then((function(t){var n=t.user;console.log(n.uid),e.setState((function(e){return{user:n}}))})).catch((function(e){e.code,e.message}))})).catch((function(t){t.code;var n=t.message;e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:n})}}))}))}},{key:"handleFacebookClick",value:function(){var e=this;console.log("facebook login ....");var t=new g.a,n=Object(g.c)();Object(g.f)(n,t).then((function(t){t.user;var a=g.a.credentialFromResult(t);Object(re.e)(n,a).then((function(t){var n=t.user;console.log(n.uid),e.setState((function(e){return{user:n}}))})).catch((function(e){e.code,e.message}))})).catch((function(t){t.code;var n=t.message;e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:n})}}))}))}},{key:"handleClick",value:function(){var e=this;console.log("Any email error(s): ",this.state.error.email),console.log("Any pass error(s): ",this.state.error.pass),this.isFieldsEmpty()||this.state.error.email||this.state.error.pass||y(this.state.emailValue,this.state.passValue).then((function(t){console.log(t.uid),e.setState((function(e){return{user:t}}))})).catch((function(t){e.setState((function(e){return{error:Object(u.a)(Object(u.a)({},e.error),{},{email:!0,pass:!0,message:t})}}))}))}},{key:"render",value:function(){var e=Object(g.c)().currentUser;return console.log("user : "+this.state.user),console.log("user : "+e),null!=e?Object(k.jsx)(ae,{}):Object(k.jsx)("div",{className:"loginContainer",children:Object(k.jsxs)(x,{children:[Object(k.jsx)(C,{msg:this.state.error.message,show:this.state.error.email||this.state.error.pass}),Object(k.jsx)("label",{className:"loginOptionText1",children:"Hello Again!"}),Object(k.jsx)("label",{className:"loginOptionText2",children:"Welcome back, you've been missed!"}),Object(k.jsx)(F,{onChange:this.handleInput,label:this.state.emailFieldLabel,name:this.state.emailFieldLabel,value:this.state.emailValue}),Object(k.jsx)(F,{onChange:this.handleInput,label:this.state.passFieldLabel,name:this.state.passFieldLabel,value:this.state.passValue,type:this.state.passFieldLabel}),Object(k.jsx)(S,{handleClick:this.handleClick}),Object(k.jsx)("label",{className:"loginOptionText3",children:"Or Continue with"}),Object(k.jsx)(ce,{handleAppleClick:this.handleAppleClick,handleFacebookClick:this.handleFacebookClick})]})})}}]),n}(s.a.Component),oe=n(286),ie=n(15);var le=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=(t[0],t[1]);return Object(c.useEffect)((function(){Object(g.d)(Object(g.c)(),(function(e){n(e)}))}),[]),Object(k.jsx)(oe.a,{children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(ie.c,{children:[Object(k.jsx)(ie.a,{path:"/",element:Object(k.jsx)(se,{})}),Object(k.jsx)(ie.a,{path:"/ConnectWallets",element:Object(k.jsx)(ae,{})})]})})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,549)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(le,{})})),ue()}},[[530,1,2]]]);
//# sourceMappingURL=main.45081ee1.chunk.js.map